"use strict";(self.webpackChunkfrontends=self.webpackChunkfrontends||[]).push([[479],{87479:(t,e,a)=>{a.r(e),a.d(e,{default:()=>C});var s=a(65043),r=a(86213),n=a(26240),i=a(85442),l=a(81637),c=a(7353),o=a(94496),d=a(68903),x=a(12110),h=a(26494),u=a(75155),F=a(42400),p=a(38846),y=a(39509),j=a(50108),m=a(89282),g=a(53439),A=a(17869),b=a(86150),f=a(21327),E=a(27415),w=a(70579);const v={borderRadius:2,boxShadow:"0px 4px 8px rgba(0, 0, 0, 0.1)",padding:2,color:"#212121"},C=()=>{const{isDarkMode:t}=(0,s.useContext)(E.D),[e,a]=(0,s.useState)(null),[C,S]=(0,s.useState)(!0),[B,k]=(0,s.useState)([]),[_,q]=(0,s.useState)([]),[K,z]=(0,s.useState)([]),[D,R]=(0,s.useState)([]),[N,$]=(0,s.useState)([]),[T,L]=(0,s.useState)([]),W=JSON.parse(localStorage.getItem("user")),I=W?`${W.first_name} ${W.last_name}`:"Guest",M=(0,n.A)(),P=(0,i.A)(M.breakpoints.down("sm")),G=(0,i.A)(M.breakpoints.between("sm","md")),H=()=>P?55:G?65:75;if((0,s.useEffect)((()=>{(async()=>{try{const t=await r.A.get("https://willowtonbursary.co.za/api/dashboard");a(t.data)}catch(t){console.error("Error fetching dashboard data:",t)}finally{S(!1)}})(),(async()=>{try{const t=(await r.A.get("https://willowtonbursary.co.za/api/student-nationality-distribution")).data.map((t=>({...t,count:Number(t.count)})));k(t)}catch(t){console.error("Error fetching nationality data:",t)}})(),(async()=>{try{const t=(await r.A.get("https://willowtonbursary.co.za/api/student-highest-education-distribution")).data.map((t=>({...t,count:Number(t.count)})));q(t)}catch(t){console.error("Error fetching education data:",t)}})(),(async()=>{try{const t=(await r.A.get("https://willowtonbursary.co.za/api/student-current-education-distribution")).data.map((t=>({...t,count:Number(t.count)})));z(t)}catch(t){console.error("Error fetching current education data:",t)}})(),(async()=>{try{const t=(await r.A.get("https://willowtonbursary.co.za/api/student-race-distribution")).data.map((t=>({...t,count:Number(t.count)})));R(t)}catch(t){console.error("Error fetching race data:",t)}})(),(async()=>{try{const t=(await r.A.get("https://willowtonbursary.co.za/api/student-marital-status-distribution")).data.map((t=>({...t,count:Number(t.count)})));$(t)}catch(t){console.error("Error fetching marital data:",t)}})(),(async()=>{try{const t=(await r.A.get("https://willowtonbursary.co.za/api/student-employment-status-distribution")).data.map((t=>({...t,count:Number(t.count)})));L(t)}catch(t){console.error("Error fetching employment data:",t)}})()}),[]),C)return(0,w.jsx)(l.A,{});const J=["#4B8BBE","#F79C42","#61C0BF","#F04E23","#7B68EE","#90EE90","#FF6347","#FFD700","#20B2AA","#F08080","#8A2BE2","#32CD32","#FF8C00","#D2691E","#98FB98","#DC143C","#8B0000","#FF4500","#00FA9A","#D3D3D3"];return(0,w.jsxs)(c.A,{sx:{backgroundColor:t?"#2D3748":"#F7FAFC",padding:"1px"},children:[(0,w.jsxs)(c.A,{sx:{backgroundColor:t?"#1E293B":"#E1F5FE",padding:"20px",borderRadius:"8px",marginBottom:"20px",border:"1px solid #ccc"},children:[(0,w.jsx)(o.A,{variant:"h4",sx:{fontWeight:"bold",color:t?"white":"black"},children:"Dashboard"}),(0,w.jsxs)(o.A,{variant:"body1",sx:{color:t?"white":"black",marginTop:1},children:["Welcome, ",I,"! \ud83d\udc4b"]})]}),(0,w.jsxs)(d.Ay,{container:!0,spacing:3,children:[(0,w.jsx)(d.Ay,{item:!0,xs:12,sm:6,md:3,children:(0,w.jsx)(x.A,{sx:{...v,backgroundColor:t?"#1E293B":"#E1F5FE",border:"1px solid #ccc"},children:(0,w.jsxs)(h.A,{children:[(0,w.jsxs)(c.A,{display:"flex",justifyContent:"space-between",children:[(0,w.jsx)(o.A,{variant:"h6",sx:{color:t?"#FFFFFF":"#000000"},children:"Student Count"}),(0,w.jsx)(u.A,{sx:{fontSize:40,color:"#4B8BBE"}})]}),(0,w.jsx)(o.A,{variant:"h4",sx:{fontWeight:"bold",color:t?"#FFFFFF":"#000000"},children:e.studentCount})]})})}),(0,w.jsx)(d.Ay,{item:!0,xs:12,sm:6,md:3,children:(0,w.jsx)(x.A,{sx:{...v,backgroundColor:t?"#1E293B":"#E1F5FE",border:"1px solid #ccc"},children:(0,w.jsxs)(h.A,{children:[(0,w.jsxs)(c.A,{display:"flex",justifyContent:"space-between",children:[(0,w.jsx)(o.A,{variant:"h6",sx:{color:t?"#FFFFFF":"#000000"},children:"Student Payments"}),(0,w.jsx)(F.A,{sx:{fontSize:40,color:"#F79C42"}})]}),(0,w.jsx)(o.A,{variant:"h4",sx:{fontWeight:"bold",color:t?"#FFFFFF":"#000000"},children:e.totalPayments})]})})}),(0,w.jsx)(d.Ay,{item:!0,xs:12,sm:6,md:3,children:(0,w.jsx)(x.A,{sx:{...v,backgroundColor:t?"#1E293B":"#E1F5FE",border:"1px solid #ccc"},children:(0,w.jsxs)(h.A,{children:[(0,w.jsxs)(c.A,{display:"flex",justifyContent:"space-between",children:[(0,w.jsx)(o.A,{variant:"h6",sx:{color:t?"#FFFFFF":"#000000"},children:"Voluntary Services"}),(0,w.jsx)(p.A,{sx:{fontSize:40,color:"#61C0BF"}})]}),(0,w.jsx)(o.A,{variant:"h4",sx:{fontWeight:"bold",color:t?"#FFFFFF":"#000000"},children:e.voluntaryServicesCount})]})})}),(0,w.jsx)(d.Ay,{item:!0,xs:12,sm:6,md:3,children:(0,w.jsx)(x.A,{sx:{...v,backgroundColor:t?"#1E293B":"#E1F5FE",border:"1px solid #ccc"},children:(0,w.jsxs)(h.A,{children:[(0,w.jsxs)(c.A,{display:"flex",justifyContent:"space-between",children:[(0,w.jsx)(o.A,{variant:"h6",sx:{color:t?"#FFFFFF":"#000000"},children:"Student Interviews"}),(0,w.jsx)(y.A,{sx:{fontSize:40,color:"#F04E23"}})]}),(0,w.jsx)(o.A,{variant:"h4",sx:{fontWeight:"bold",color:t?"#FFFFFF":"#000000"},children:e.interviewsCount})]})})}),(0,w.jsx)(d.Ay,{item:!0,xs:12,sm:6,md:4,children:(0,w.jsx)(x.A,{sx:{...v,backgroundColor:t?"#1E293B":"#E1F5FE",border:"1px solid #ccc"},children:(0,w.jsxs)(h.A,{children:[(0,w.jsx)(o.A,{variant:"h6",sx:{color:t?"#FFFFFF":"#000000"},children:"Nationalities"}),(0,w.jsx)(j.u,{width:"100%",height:200,children:(0,w.jsxs)(m.r,{children:[(0,w.jsx)(g.F,{data:B,dataKey:"count",nameKey:"student_nationality",cx:"50%",cy:"50%",outerRadius:H(),fill:"#82ca9d",children:B.map(((t,e)=>(0,w.jsx)(A.f,{fill:J[e%J.length]},`cell-${e}`)))}),(0,w.jsx)(b.m,{}),(0,w.jsx)(f.s,{iconType:"square",layout:"vertical",align:"right",verticalAlign:"middle",wrapperStyle:{paddingLeft:"20px"},payload:B.map(((t,e)=>({value:t.student_nationality,type:"square",color:J[e%J.length]})))})]})})]})})}),(0,w.jsx)(d.Ay,{item:!0,xs:12,sm:6,md:4,children:(0,w.jsx)(x.A,{sx:{...v,backgroundColor:t?"#1E293B":"#E1F5FE",border:"1px solid #ccc"},children:(0,w.jsxs)(h.A,{children:[(0,w.jsx)(o.A,{variant:"h6",sx:{color:t?"#FFFFFF":"#000000"},children:"Current Education"}),(0,w.jsx)(j.u,{width:"100%",height:200,children:(0,w.jsxs)(m.r,{children:[(0,w.jsx)(g.F,{data:K,dataKey:"count",nameKey:"student_type",cx:"50%",cy:"50%",outerRadius:H(),fill:"#82ca9d",children:K.map(((t,e)=>(0,w.jsx)(A.f,{fill:J[e%J.length]},`cell-${e}`)))}),(0,w.jsx)(b.m,{}),(0,w.jsx)(f.s,{iconType:"square",layout:"vertical",align:"right",verticalAlign:"middle",wrapperStyle:{paddingLeft:"20px"},payload:K.map(((t,e)=>({value:t.student_type,type:"square",color:J[e%J.length]})))})]})})]})})}),(0,w.jsx)(d.Ay,{item:!0,xs:12,sm:6,md:4,children:(0,w.jsx)(x.A,{sx:{...v,backgroundColor:t?"#1E293B":"#E1F5FE",border:"1px solid #ccc"},children:(0,w.jsxs)(h.A,{children:[(0,w.jsx)(o.A,{variant:"h6",sx:{color:t?"#FFFFFF":"#000000"},children:"Highest Education"}),(0,w.jsx)(j.u,{width:"100%",height:200,children:(0,w.jsxs)(m.r,{children:[(0,w.jsx)(g.F,{data:_,dataKey:"count",nameKey:"student_highest_education",cx:"50%",cy:"50%",outerRadius:H(),fill:"#82ca9d",children:_.map(((t,e)=>(0,w.jsx)(A.f,{fill:J[e%J.length]},`cell-${e}`)))}),(0,w.jsx)(b.m,{}),(0,w.jsx)(f.s,{iconType:"square",layout:"vertical",align:"right",verticalAlign:"middle",wrapperStyle:{paddingLeft:"20px"},payload:_.map(((t,e)=>({value:t.student_highest_education,type:"square",color:J[e%J.length]})))})]})})]})})}),(0,w.jsx)(d.Ay,{item:!0,xs:12,sm:6,md:4,children:(0,w.jsx)(x.A,{sx:{...v,backgroundColor:t?"#1E293B":"#E1F5FE",border:"1px solid #ccc"},children:(0,w.jsxs)(h.A,{children:[(0,w.jsx)(o.A,{variant:"h6",sx:{color:t?"#FFFFFF":"#000000"},children:"Race"}),(0,w.jsx)(j.u,{width:"100%",height:200,children:(0,w.jsxs)(m.r,{children:[(0,w.jsx)(g.F,{data:D,dataKey:"count",nameKey:"student_race",cx:"50%",cy:"50%",outerRadius:H(),fill:"#82ca9d",children:D.map(((t,e)=>(0,w.jsx)(A.f,{fill:J[e%J.length]},`cell-${e}`)))}),(0,w.jsx)(b.m,{}),(0,w.jsx)(f.s,{iconType:"square",layout:"vertical",align:"right",verticalAlign:"middle",wrapperStyle:{paddingLeft:"20px"},payload:D.map(((t,e)=>({value:t.student_race,type:"square",color:J[e%J.length]})))})]})})]})})}),(0,w.jsx)(d.Ay,{item:!0,xs:12,sm:6,md:4,children:(0,w.jsx)(x.A,{sx:{...v,backgroundColor:t?"#1E293B":"#E1F5FE",border:"1px solid #ccc"},children:(0,w.jsxs)(h.A,{children:[(0,w.jsx)(o.A,{variant:"h6",sx:{color:t?"#FFFFFF":"#000000"},children:"Marital Status"}),(0,w.jsx)(j.u,{width:"100%",height:200,children:(0,w.jsxs)(m.r,{children:[(0,w.jsx)(g.F,{data:N,dataKey:"count",nameKey:"student_marital_status",cx:"50%",cy:"50%",outerRadius:H(),fill:"#82ca9d",children:N.map(((t,e)=>(0,w.jsx)(A.f,{fill:J[e%J.length]},`cell-${e}`)))}),(0,w.jsx)(b.m,{}),(0,w.jsx)(f.s,{iconType:"square",layout:"vertical",align:"right",verticalAlign:"middle",wrapperStyle:{paddingLeft:"20px"},payload:N.map(((t,e)=>({value:t.student_marital_status,type:"square",color:J[e%J.length]})))})]})})]})})}),(0,w.jsx)(d.Ay,{item:!0,xs:12,sm:6,md:4,children:(0,w.jsx)(x.A,{sx:{...v,backgroundColor:t?"#1E293B":"#E1F5FE",border:"1px solid #ccc"},children:(0,w.jsxs)(h.A,{children:[(0,w.jsx)(o.A,{variant:"h6",sx:{color:t?"#FFFFFF":"#000000"},children:"Employment Status"}),(0,w.jsx)(j.u,{width:"100%",height:200,children:(0,w.jsxs)(m.r,{children:[(0,w.jsx)(g.F,{data:T,dataKey:"count",nameKey:"student_employment_status",cx:"50%",cy:"50%",outerRadius:H(),fill:"#82ca9d",children:T.map(((t,e)=>(0,w.jsx)(A.f,{fill:J[e%J.length]},`cell-${e}`)))}),(0,w.jsx)(b.m,{}),(0,w.jsx)(f.s,{iconType:"square",layout:"vertical",align:"right",verticalAlign:"middle",wrapperStyle:{paddingLeft:"20px"},payload:T.map(((t,e)=>({value:t.student_employment_status,type:"square",color:J[e%J.length]})))})]})})]})})})]})]})}}}]);
//# sourceMappingURL=479.f576679d.chunk.js.map