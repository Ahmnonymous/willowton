"use strict";(self.webpackChunkfrontends=self.webpackChunkfrontends||[]).push([[479],{87479:(t,e,n)=>{n.r(e),n.d(e,{default:()=>w});var s=n(65043),a=n(86213),r=n(26240),i=n(85442),l=n(7353),o=n(81637),c=n(94496),d=n(68903),h=n(12110),x=n(26494),u=n(75155),F=n(42400),j=n(38846),m=n(39509),y=n(50108),g=n(89282),p=n(53439),A=n(17869),b=n(86150),f=n(21327),_=n(27415),E=n(70579);const v="https://willowtonbursary.co.za/api",C={borderRadius:2,boxShadow:"0px 4px 8px rgba(0, 0, 0, 0.1)",padding:2,color:"#212121"},w=()=>{const{isDarkMode:t}=(0,s.useContext)(_.D),[e,n]=(0,s.useState)(null),[w,k]=(0,s.useState)(!0),[S,B]=(0,s.useState)([]),[$,z]=(0,s.useState)(!0),[K,R]=(0,s.useState)([]),[D,N]=(0,s.useState)(!0),[I,L]=(0,s.useState)([]),[W,M]=(0,s.useState)(!0),[P,T]=(0,s.useState)([]),[G,H]=(0,s.useState)(!0),[J,O]=(0,s.useState)([]),[V,q]=(0,s.useState)(!0),[Q,U]=(0,s.useState)([]),[X,Y]=(0,s.useState)(!0),Z=JSON.parse(localStorage.getItem("user")),tt=Z?`${Z.first_name} ${Z.last_name}`:"Guest",et=(0,r.A)(),nt=(0,i.A)(et.breakpoints.down("sm")),st=(0,i.A)(et.breakpoints.between("sm","md")),at=["#4E79A7","#A0CBE8","#F28E2B","#FFBE7D","#59A14F","#8CD17D","#B6992D","#F1CE63","#499894","#86BCB6"],rt=()=>nt?55:st?65:75;(0,s.useEffect)((()=>{(async()=>{try{const t=await a.A.get(`${v}/dashboard`);n(t.data)}catch(t){console.error("Error fetching dashboard data:",t)}finally{k(!1)}})(),(async()=>{try{const t=(await a.A.get(`${v}/student-nationality-distribution`)).data.filter((t=>t.student_nationality&&"unknown"!==t.student_nationality.toLowerCase())).map((t=>({...t,count:Number(t.count)||0,student_nationality:t.student_nationality})));B(t)}catch(t){console.error("Error fetching nationality data:",t)}finally{z(!1)}})(),(async()=>{try{const t=(await a.A.get(`${v}/student-highest-education-distribution`)).data.filter((t=>t.student_highest_education&&"unknown"!==t.student_highest_education.toLowerCase())).map((t=>({...t,count:Number(t.count)||0,student_highest_education:t.student_highest_education})));R(t)}catch(t){console.error("Error fetching education data:",t)}finally{N(!1)}})(),(async()=>{try{const t=(await a.A.get(`${v}/student-current-education-distribution`)).data.filter((t=>t.student_type&&"unknown"!==t.student_type.toLowerCase())).map((t=>({...t,count:Number(t.count)||0,student_type:t.student_type})));L(t)}catch(t){console.error("Error fetching current education data:",t)}finally{M(!1)}})(),(async()=>{try{const t=(await a.A.get(`${v}/student-race-distribution`)).data.filter((t=>t.student_race&&"unknown"!==t.student_race.toLowerCase())).map((t=>({...t,count:Number(t.count)||0,student_race:t.student_race})));T(t)}catch(t){console.error("Error fetching race data:",t)}finally{H(!1)}})(),(async()=>{try{const t=(await a.A.get(`${v}/student-marital-status-distribution`)).data.filter((t=>t.student_marital_status&&"unknown"!==t.student_marital_status.toLowerCase())).map((t=>({...t,count:Number(t.count)||0,student_marital_status:t.student_marital_status})));O(t)}catch(t){console.error("Error fetching marital data:",t)}finally{q(!1)}})(),(async()=>{try{const t=(await a.A.get(`${v}/student-employment-status-distribution`)).data.filter((t=>t.student_employment_status&&"unknown"!==t.student_employment_status.toLowerCase())).map((t=>({...t,count:Number(t.count)||0,student_employment_status:t.student_employment_status})));U(t)}catch(t){console.error("Error fetching employment data:",t)}finally{Y(!1)}})()}),[]);const it=e=>{const{payload:n}=e;return(0,E.jsx)("ul",{style:{listStyle:"none",padding:0,textAlign:"center",marginTop:10},children:n.map(((e,n)=>(0,E.jsxs)("li",{style:{display:"inline-block",margin:"0 10px"},children:[(0,E.jsx)("span",{style:{display:"inline-block",width:10,height:10,borderRadius:"50%",backgroundColor:e.color,marginRight:5}}),(0,E.jsx)("span",{style:{color:t?"#FFFFFF":"#000000",fontSize:"12px"},children:e.value})]},`item-${n}`)))})},lt=()=>(0,E.jsx)(l.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:260},children:(0,E.jsx)(o.A,{})});return(0,E.jsxs)(l.A,{sx:{backgroundColor:t?"#2D3748":"#F7FAFC",padding:"1px"},children:[(0,E.jsxs)(l.A,{sx:{backgroundColor:t?"#1E293B":"#E1F5FE",padding:"20px",borderRadius:"8px",marginBottom:"20px",border:"1px solid #ccc"},children:[(0,E.jsx)(c.A,{variant:"h4",sx:{fontWeight:"bold",color:t?"white":"black"},children:"Dashboard"}),(0,E.jsxs)(c.A,{variant:"body1",sx:{color:t?"white":"black",marginTop:1},children:["Welcome, ",tt,"! \ud83d\udc4b"]})]}),(0,E.jsxs)(d.Ay,{container:!0,spacing:3,children:[(0,E.jsx)(d.Ay,{item:!0,xs:12,sm:6,md:3,children:(0,E.jsx)(h.A,{sx:{...C,backgroundColor:t?"#1E293B":"#E1F5FE",border:"1px solid #ccc"},children:(0,E.jsx)(x.A,{children:w?(0,E.jsx)(l.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:60},children:(0,E.jsx)(o.A,{})}):(0,E.jsxs)(E.Fragment,{children:[(0,E.jsxs)(l.A,{display:"flex",justifyContent:"space-between",children:[(0,E.jsx)(c.A,{variant:"h6",sx:{color:t?"#FFFFFF":"#000000"},children:"Student Count"}),(0,E.jsx)(u.A,{sx:{fontSize:40,color:"#4B8BBE"}})]}),(0,E.jsx)(c.A,{variant:"h4",sx:{fontWeight:"bold",color:t?"#FFFFFF":"#000000"},children:(null===e||void 0===e?void 0:e.studentCount)||0})]})})})}),(0,E.jsx)(d.Ay,{item:!0,xs:12,sm:6,md:3,children:(0,E.jsx)(h.A,{sx:{...C,backgroundColor:t?"#1E293B":"#E1F5FE",border:"1px solid #ccc"},children:(0,E.jsx)(x.A,{children:w?(0,E.jsx)(l.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:60},children:(0,E.jsx)(o.A,{})}):(0,E.jsxs)(E.Fragment,{children:[(0,E.jsxs)(l.A,{display:"flex",justifyContent:"space-between",children:[(0,E.jsx)(c.A,{variant:"h6",sx:{color:t?"#FFFFFF":"#000000"},children:"Student Payments"}),(0,E.jsx)(F.A,{sx:{fontSize:40,color:"#F79C42"}})]}),(0,E.jsx)(c.A,{variant:"h4",sx:{fontWeight:"bold",color:t?"#FFFFFF":"#000000"},children:(null===e||void 0===e?void 0:e.totalPayments)||0})]})})})}),(0,E.jsx)(d.Ay,{item:!0,xs:12,sm:6,md:3,children:(0,E.jsx)(h.A,{sx:{...C,backgroundColor:t?"#1E293B":"#E1F5FE",border:"1px solid #ccc"},children:(0,E.jsx)(x.A,{children:w?(0,E.jsx)(l.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:60},children:(0,E.jsx)(o.A,{})}):(0,E.jsxs)(E.Fragment,{children:[(0,E.jsxs)(l.A,{display:"flex",justifyContent:"space-between",children:[(0,E.jsx)(c.A,{variant:"h6",sx:{color:t?"#FFFFFF":"#000000"},children:"Voluntary Services"}),(0,E.jsx)(j.A,{sx:{fontSize:40,color:"#61C0BF"}})]}),(0,E.jsx)(c.A,{variant:"h4",sx:{fontWeight:"bold",color:t?"#FFFFFF":"#000000"},children:(null===e||void 0===e?void 0:e.voluntaryServicesCount)||0})]})})})}),(0,E.jsx)(d.Ay,{item:!0,xs:12,sm:6,md:3,children:(0,E.jsx)(h.A,{sx:{...C,backgroundColor:t?"#1E293B":"#E1F5FE",border:"1px solid #ccc"},children:(0,E.jsx)(x.A,{children:w?(0,E.jsx)(l.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:60},children:(0,E.jsx)(o.A,{})}):(0,E.jsxs)(E.Fragment,{children:[(0,E.jsxs)(l.A,{display:"flex",justifyContent:"space-between",children:[(0,E.jsx)(c.A,{variant:"h6",sx:{color:t?"#FFFFFF":"#000000"},children:"Student Interviews"}),(0,E.jsx)(m.A,{sx:{fontSize:40,color:"#F04E23"}})]}),(0,E.jsx)(c.A,{variant:"h4",sx:{fontWeight:"bold",color:t?"#FFFFFF":"#000000"},children:(null===e||void 0===e?void 0:e.interviewsCount)||0})]})})})}),(0,E.jsx)(d.Ay,{item:!0,xs:12,sm:6,md:4,children:(0,E.jsx)(h.A,{sx:{...C,backgroundColor:t?"#1E293B":"#E1F5FE",border:"1px solid #ccc"},children:(0,E.jsxs)(x.A,{children:[(0,E.jsx)(c.A,{variant:"h6",sx:{color:t?"#FFFFFF":"#000000"},children:"Nationalities"}),$?lt():(0,E.jsx)(l.A,{sx:{height:260},children:(0,E.jsx)(y.u,{width:"100%",height:"100%",children:(0,E.jsxs)(g.r,{children:[(0,E.jsx)(p.F,{data:S,dataKey:"count",nameKey:"student_nationality",cx:"50%",cy:"50%",outerRadius:rt(),children:S.map(((t,e)=>(0,E.jsx)(A.f,{fill:at[e%at.length]},`cell-${e}`)))}),(0,E.jsx)(b.m,{}),(0,E.jsx)(f.s,{content:it,layout:"horizontal",align:"center",verticalAlign:"bottom",payload:S.map(((t,e)=>({value:t.student_nationality,type:"circle",color:at[e%at.length]})))})]})})})]})})}),(0,E.jsx)(d.Ay,{item:!0,xs:12,sm:6,md:4,children:(0,E.jsx)(h.A,{sx:{...C,backgroundColor:t?"#1E293B":"#E1F5FE",border:"1px solid #ccc"},children:(0,E.jsxs)(x.A,{children:[(0,E.jsx)(c.A,{variant:"h6",sx:{color:t?"#FFFFFF":"#000000"},children:"Current Education"}),W?lt():(0,E.jsx)(l.A,{sx:{height:260},children:(0,E.jsx)(y.u,{width:"100%",height:"100%",children:(0,E.jsxs)(g.r,{children:[(0,E.jsx)(p.F,{data:I,dataKey:"count",nameKey:"student_type",cx:"50%",cy:"50%",outerRadius:rt(),children:I.map(((t,e)=>(0,E.jsx)(A.f,{fill:at[e%at.length]},`cell-${e}`)))}),(0,E.jsx)(b.m,{}),(0,E.jsx)(f.s,{content:it,layout:"horizontal",align:"center",verticalAlign:"bottom",payload:I.map(((t,e)=>({value:t.student_type,type:"circle",color:at[e%at.length]})))})]})})})]})})}),(0,E.jsx)(d.Ay,{item:!0,xs:12,sm:6,md:4,children:(0,E.jsx)(h.A,{sx:{...C,backgroundColor:t?"#1E293B":"#E1F5FE",border:"1px solid #ccc"},children:(0,E.jsxs)(x.A,{children:[(0,E.jsx)(c.A,{variant:"h6",sx:{color:t?"#FFFFFF":"#000000"},children:"Highest Education"}),D?lt():(0,E.jsx)(l.A,{sx:{height:260},children:(0,E.jsx)(y.u,{width:"100%",height:"100%",children:(0,E.jsxs)(g.r,{children:[(0,E.jsx)(p.F,{data:K,dataKey:"count",nameKey:"student_highest_education",cx:"50%",cy:"50%",outerRadius:rt(),children:K.map(((t,e)=>(0,E.jsx)(A.f,{fill:at[e%at.length]},`cell-${e}`)))}),(0,E.jsx)(b.m,{}),(0,E.jsx)(f.s,{content:it,layout:"horizontal",align:"center",verticalAlign:"bottom",payload:K.map(((t,e)=>({value:t.student_highest_education,type:"circle",color:at[e%at.length]})))})]})})})]})})}),(0,E.jsx)(d.Ay,{item:!0,xs:12,sm:6,md:4,children:(0,E.jsx)(h.A,{sx:{...C,backgroundColor:t?"#1E293B":"#E1F5FE",border:"1px solid #ccc"},children:(0,E.jsxs)(x.A,{children:[(0,E.jsx)(c.A,{variant:"h6",sx:{color:t?"#FFFFFF":"#000000"},children:"Race"}),G?lt():(0,E.jsx)(l.A,{sx:{height:260},children:(0,E.jsx)(y.u,{width:"100%",height:"100%",children:(0,E.jsxs)(g.r,{children:[(0,E.jsx)(p.F,{data:P,dataKey:"count",nameKey:"student_race",cx:"50%",cy:"50%",outerRadius:rt(),children:P.map(((t,e)=>(0,E.jsx)(A.f,{fill:at[e%at.length]},`cell-${e}`)))}),(0,E.jsx)(b.m,{}),(0,E.jsx)(f.s,{content:it,layout:"horizontal",align:"center",verticalAlign:"bottom",payload:P.map(((t,e)=>({value:t.student_race,type:"circle",color:at[e%at.length]})))})]})})})]})})}),(0,E.jsx)(d.Ay,{item:!0,xs:12,sm:6,md:4,children:(0,E.jsx)(h.A,{sx:{...C,backgroundColor:t?"#1E293B":"#E1F5FE",border:"1px solid #ccc"},children:(0,E.jsxs)(x.A,{children:[(0,E.jsx)(c.A,{variant:"h6",sx:{color:t?"#FFFFFF":"#000000"},children:"Marital Status"}),V?lt():(0,E.jsx)(l.A,{sx:{height:260},children:(0,E.jsx)(y.u,{width:"100%",height:"100%",children:(0,E.jsxs)(g.r,{children:[(0,E.jsx)(p.F,{data:J,dataKey:"count",nameKey:"student_marital_status",cx:"50%",cy:"50%",outerRadius:rt(),children:J.map(((t,e)=>(0,E.jsx)(A.f,{fill:at[e%at.length]},`cell-${e}`)))}),(0,E.jsx)(b.m,{}),(0,E.jsx)(f.s,{content:it,layout:"horizontal",align:"center",verticalAlign:"bottom",payload:J.map(((t,e)=>({value:t.student_marital_status,type:"circle",color:at[e%at.length]})))})]})})})]})})}),(0,E.jsx)(d.Ay,{item:!0,xs:12,sm:6,md:4,children:(0,E.jsx)(h.A,{sx:{...C,backgroundColor:t?"#1E293B":"#E1F5FE",border:"1px solid #ccc"},children:(0,E.jsxs)(x.A,{children:[(0,E.jsx)(c.A,{variant:"h6",sx:{color:t?"#FFFFFF":"#000000"},children:"Employment Status"}),X?lt():(0,E.jsx)(l.A,{sx:{height:260},children:(0,E.jsx)(y.u,{width:"100%",height:"100%",children:(0,E.jsxs)(g.r,{children:[(0,E.jsx)(p.F,{data:Q,dataKey:"count",nameKey:"student_employment_status",cx:"50%",cy:"50%",outerRadius:rt(),children:Q.map(((t,e)=>(0,E.jsx)(A.f,{fill:at[e%at.length]},`cell-${e}`)))}),(0,E.jsx)(b.m,{}),(0,E.jsx)(f.s,{content:it,layout:"horizontal",align:"center",verticalAlign:"bottom",payload:Q.map(((t,e)=>({value:t.student_employment_status,type:"circle",color:at[e%at.length]})))})]})})})]})})})]})]})}}}]);
//# sourceMappingURL=479.5525b90b.chunk.js.map