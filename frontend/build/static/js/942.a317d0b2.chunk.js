"use strict";(self.webpackChunkfrontends=self.webpackChunkfrontends||[]).push([[942],{24942:(e,t,s)=>{s.r(t),s.d(t,{default:()=>d});var r=s(36248),n=s(65043),a=s(7353),c=s(86213),o=s(27415),l=(s(84713),s(70579));const d=function(){const{isDarkMode:e}=(0,n.useContext)(o.D),[t,s]=(0,n.useState)([]),[d,i]=(0,n.useState)(""),[h,u]=(0,n.useState)([]),x=e=>{const t=new Date(e);return`${t.getMonth()+1}/${t.getDate()}/${t.getFullYear()}`};(0,n.useEffect)((()=>{(async()=>{const e=await c.A.get("https://willowtonbursary.co.za/api/student-details");e.data.length>0&&u(Object.keys(e.data[0]).filter((e=>"id"!==e))),s(e.data)})()}),[]);const p=t.filter((e=>h.some((t=>{const s=e[t];return!(!s||"string"!==typeof s)&&s.toLowerCase().includes(d.toLowerCase())}))));return(0,l.jsx)(a.A,{sx:{backgroundColor:e?"#2D3748":"#F7FAFC",minHeight:"100vh",padding:"1px"},children:(0,l.jsxs)("div",{children:[(0,l.jsx)(r.A,{title:"Student Report"}),(0,l.jsx)("div",{className:"generic-search-container",children:(0,l.jsx)("input",{type:"text",className:"generic-search-input",placeholder:"Search...",value:d,onChange:e=>i(e.target.value)})}),(0,l.jsx)("div",{className:"generic-table-container",children:(0,l.jsxs)("table",{className:"generic-table",style:{backgroundColor:e?"#1e293b":"white"},children:[(0,l.jsx)("thead",{children:(0,l.jsx)("tr",{children:h.map((t=>{return(0,l.jsxs)("th",{style:{color:e?"white":"#1e293b"},children:[(s=t,s.replace(/_/g," ").replace(/\b\w/g,(e=>e.toUpperCase())))," "]},t);var s}))})}),(0,l.jsx)("tbody",{children:p.length>0?p.map((t=>(0,l.jsx)("tr",{children:h.map((s=>(0,l.jsx)("td",{style:{color:e?"white":"#1e293b"},children:"student_date_stamp"===s||"student_dob"===s?x(t[s]):t[s]},s)))},t.id))):(0,l.jsx)("tr",{children:(0,l.jsx)("td",{colSpan:h.length,className:"no-matching-records",children:"No matching records found"})})})]})})]})})}},36248:(e,t,s)=>{s.d(t,{A:()=>l});var r=s(65043),n=s(7353),a=s(94496),c=s(27415),o=s(70579);const l=e=>{let{title:t}=e;const{isDarkMode:s}=(0,r.useContext)(c.D);return(0,o.jsx)(n.A,{sx:{padding:"12px",backgroundColor:s?"#1e293b":"#e1f5fe",borderRadius:"8px",marginBottom:"12px",border:"1px solid #ccc"},children:(0,o.jsx)(a.A,{variant:"h6",sx:{color:s?"white":"black",fontWeight:"bold"},children:t})})}},84713:()=>{}}]);
//# sourceMappingURL=942.a317d0b2.chunk.js.map