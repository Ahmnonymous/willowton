"use strict";(self.webpackChunkfrontends=self.webpackChunkfrontends||[]).push([[479],{87479:(e,t,s)=>{s.r(t),s.d(t,{default:()=>S});var r=s(65043),a=s(86213),n=s(26240),i=s(85442),c=s(81637),l=s(7353),o=s(94496),d=s(68903),x=s(12110),h=s(26494),u=s(75155),F=s(42400),p=s(38846),y=s(39509),j=s(50108),m=s(89282),g=s(53439),A=s(17869),b=s(86150),f=s(21327),E=s(27415),v=s(70579);const w="https://willowtonbursary.co.za/api",C={borderRadius:2,boxShadow:"0px 4px 8px rgba(0, 0, 0, 0.1)",padding:2,color:"#212121"},S=()=>{const{isDarkMode:e}=(0,r.useContext)(E.D),[t,s]=(0,r.useState)(null),[S,B]=(0,r.useState)(!0),[k,_]=(0,r.useState)([]),[$,q]=(0,r.useState)([]),[K,D]=(0,r.useState)([]),[R,N]=(0,r.useState)([]),[T,L]=(0,r.useState)([]),[W,z]=(0,r.useState)([]),I=JSON.parse(localStorage.getItem("user")),M=I?`${I.first_name} ${I.last_name}`:"Guest",P=(0,n.A)(),G=(0,i.A)(P.breakpoints.down("sm")),H=(0,i.A)(P.breakpoints.between("sm","md")),J=()=>G?55:H?65:75;if((0,r.useEffect)((()=>{(async()=>{try{const e=await a.A.get(`${w}/dashboard`);s(e.data)}catch(e){console.error("Error fetching dashboard data:",e)}finally{B(!1)}})(),(async()=>{try{const e=(await a.A.get(`${w}/student-nationality-distribution`)).data.map((e=>({...e,count:Number(e.count)})));_(e)}catch(e){console.error("Error fetching nationality data:",e)}})(),(async()=>{try{const e=(await a.A.get(`${w}/student-highest-education-distribution`)).data.map((e=>({...e,count:Number(e.count)})));q(e)}catch(e){console.error("Error fetching education data:",e)}})(),(async()=>{try{const e=(await a.A.get(`${w}/student-current-education-distribution`)).data.map((e=>({...e,count:Number(e.count)})));D(e)}catch(e){console.error("Error fetching current education data:",e)}})(),(async()=>{try{const e=(await a.A.get(`${w}/student-race-distribution`)).data.map((e=>({...e,count:Number(e.count)})));N(e)}catch(e){console.error("Error fetching race data:",e)}})(),(async()=>{try{const e=(await a.A.get(`${w}/student-marital-status-distribution`)).data.map((e=>({...e,count:Number(e.count)})));L(e)}catch(e){console.error("Error fetching marital data:",e)}})(),(async()=>{try{const e=(await a.A.get(`${w}/student-employment-status-distribution`)).data.map((e=>({...e,count:Number(e.count)})));z(e)}catch(e){console.error("Error fetching employment data:",e)}})()}),[]),S)return(0,v.jsx)(c.A,{});const O=["#4B8BBE","#F79C42","#61C0BF","#F04E23","#7B68EE","#90EE90","#FF6347","#FFD700","#20B2AA","#F08080","#8A2BE2","#32CD32","#FF8C00","#D2691E","#98FB98","#DC143C","#8B0000","#FF4500","#00FA9A","#D3D3D3"];return(0,v.jsxs)(l.A,{sx:{backgroundColor:e?"#2D3748":"#F7FAFC",padding:"1px"},children:[(0,v.jsxs)(l.A,{sx:{backgroundColor:e?"#1E293B":"#E1F5FE",padding:"20px",borderRadius:"8px",marginBottom:"20px",border:"1px solid #ccc"},children:[(0,v.jsx)(o.A,{variant:"h4",sx:{fontWeight:"bold",color:e?"white":"black"},children:"Dashboard"}),(0,v.jsxs)(o.A,{variant:"body1",sx:{color:e?"white":"black",marginTop:1},children:["Welcome, ",M,"! \ud83d\udc4b"]})]}),(0,v.jsxs)(d.Ay,{container:!0,spacing:3,children:[(0,v.jsx)(d.Ay,{item:!0,xs:12,sm:6,md:3,children:(0,v.jsx)(x.A,{sx:{...C,backgroundColor:e?"#1E293B":"#E1F5FE",border:"1px solid #ccc"},children:(0,v.jsxs)(h.A,{children:[(0,v.jsxs)(l.A,{display:"flex",justifyContent:"space-between",children:[(0,v.jsx)(o.A,{variant:"h6",sx:{color:e?"#FFFFFF":"#000000"},children:"Student Count"}),(0,v.jsx)(u.A,{sx:{fontSize:40,color:"#4B8BBE"}})]}),(0,v.jsx)(o.A,{variant:"h4",sx:{fontWeight:"bold",color:e?"#FFFFFF":"#000000"},children:t.studentCount})]})})}),(0,v.jsx)(d.Ay,{item:!0,xs:12,sm:6,md:3,children:(0,v.jsx)(x.A,{sx:{...C,backgroundColor:e?"#1E293B":"#E1F5FE",border:"1px solid #ccc"},children:(0,v.jsxs)(h.A,{children:[(0,v.jsxs)(l.A,{display:"flex",justifyContent:"space-between",children:[(0,v.jsx)(o.A,{variant:"h6",sx:{color:e?"#FFFFFF":"#000000"},children:"Student Payments"}),(0,v.jsx)(F.A,{sx:{fontSize:40,color:"#F79C42"}})]}),(0,v.jsx)(o.A,{variant:"h4",sx:{fontWeight:"bold",color:e?"#FFFFFF":"#000000"},children:t.totalPayments})]})})}),(0,v.jsx)(d.Ay,{item:!0,xs:12,sm:6,md:3,children:(0,v.jsx)(x.A,{sx:{...C,backgroundColor:e?"#1E293B":"#E1F5FE",border:"1px solid #ccc"},children:(0,v.jsxs)(h.A,{children:[(0,v.jsxs)(l.A,{display:"flex",justifyContent:"space-between",children:[(0,v.jsx)(o.A,{variant:"h6",sx:{color:e?"#FFFFFF":"#000000"},children:"Voluntary Services"}),(0,v.jsx)(p.A,{sx:{fontSize:40,color:"#61C0BF"}})]}),(0,v.jsx)(o.A,{variant:"h4",sx:{fontWeight:"bold",color:e?"#FFFFFF":"#000000"},children:t.voluntaryServicesCount})]})})}),(0,v.jsx)(d.Ay,{item:!0,xs:12,sm:6,md:3,children:(0,v.jsx)(x.A,{sx:{...C,backgroundColor:e?"#1E293B":"#E1F5FE",border:"1px solid #ccc"},children:(0,v.jsxs)(h.A,{children:[(0,v.jsxs)(l.A,{display:"flex",justifyContent:"space-between",children:[(0,v.jsx)(o.A,{variant:"h6",sx:{color:e?"#FFFFFF":"#000000"},children:"Student Interviews"}),(0,v.jsx)(y.A,{sx:{fontSize:40,color:"#F04E23"}})]}),(0,v.jsx)(o.A,{variant:"h4",sx:{fontWeight:"bold",color:e?"#FFFFFF":"#000000"},children:t.interviewsCount})]})})}),(0,v.jsx)(d.Ay,{item:!0,xs:12,sm:6,md:4,children:(0,v.jsx)(x.A,{sx:{...C,backgroundColor:e?"#1E293B":"#E1F5FE",border:"1px solid #ccc"},children:(0,v.jsxs)(h.A,{children:[(0,v.jsx)(o.A,{variant:"h6",sx:{color:e?"#FFFFFF":"#000000"},children:"Nationalities"}),(0,v.jsx)(j.u,{width:"100%",height:200,children:(0,v.jsxs)(m.r,{children:[(0,v.jsx)(g.F,{data:k,dataKey:"count",nameKey:"student_nationality",cx:"50%",cy:"50%",outerRadius:J(),fill:"#82ca9d",children:k.map(((e,t)=>(0,v.jsx)(A.f,{fill:O[t%O.length]},`cell-${t}`)))}),(0,v.jsx)(b.m,{}),(0,v.jsx)(f.s,{iconType:"square",layout:"vertical",align:"right",verticalAlign:"middle",wrapperStyle:{paddingLeft:"20px"},payload:k.map(((e,t)=>({value:e.student_nationality,type:"square",color:O[t%O.length]})))})]})})]})})}),(0,v.jsx)(d.Ay,{item:!0,xs:12,sm:6,md:4,children:(0,v.jsx)(x.A,{sx:{...C,backgroundColor:e?"#1E293B":"#E1F5FE",border:"1px solid #ccc"},children:(0,v.jsxs)(h.A,{children:[(0,v.jsx)(o.A,{variant:"h6",sx:{color:e?"#FFFFFF":"#000000"},children:"Current Education"}),(0,v.jsx)(j.u,{width:"100%",height:200,children:(0,v.jsxs)(m.r,{children:[(0,v.jsx)(g.F,{data:K,dataKey:"count",nameKey:"student_type",cx:"50%",cy:"50%",outerRadius:J(),fill:"#82ca9d",children:K.map(((e,t)=>(0,v.jsx)(A.f,{fill:O[t%O.length]},`cell-${t}`)))}),(0,v.jsx)(b.m,{}),(0,v.jsx)(f.s,{iconType:"square",layout:"vertical",align:"right",verticalAlign:"middle",wrapperStyle:{paddingLeft:"20px"},payload:K.map(((e,t)=>({value:e.student_type,type:"square",color:O[t%O.length]})))})]})})]})})}),(0,v.jsx)(d.Ay,{item:!0,xs:12,sm:6,md:4,children:(0,v.jsx)(x.A,{sx:{...C,backgroundColor:e?"#1E293B":"#E1F5FE",border:"1px solid #ccc"},children:(0,v.jsxs)(h.A,{children:[(0,v.jsx)(o.A,{variant:"h6",sx:{color:e?"#FFFFFF":"#000000"},children:"Highest Education"}),(0,v.jsx)(j.u,{width:"100%",height:200,children:(0,v.jsxs)(m.r,{children:[(0,v.jsx)(g.F,{data:$,dataKey:"count",nameKey:"student_highest_education",cx:"50%",cy:"50%",outerRadius:J(),fill:"#82ca9d",children:$.map(((e,t)=>(0,v.jsx)(A.f,{fill:O[t%O.length]},`cell-${t}`)))}),(0,v.jsx)(b.m,{}),(0,v.jsx)(f.s,{iconType:"square",layout:"vertical",align:"right",verticalAlign:"middle",wrapperStyle:{paddingLeft:"20px"},payload:$.map(((e,t)=>({value:e.student_highest_education,type:"square",color:O[t%O.length]})))})]})})]})})}),(0,v.jsx)(d.Ay,{item:!0,xs:12,sm:6,md:4,children:(0,v.jsx)(x.A,{sx:{...C,backgroundColor:e?"#1E293B":"#E1F5FE",border:"1px solid #ccc"},children:(0,v.jsxs)(h.A,{children:[(0,v.jsx)(o.A,{variant:"h6",sx:{color:e?"#FFFFFF":"#000000"},children:"Race"}),(0,v.jsx)(j.u,{width:"100%",height:200,children:(0,v.jsxs)(m.r,{children:[(0,v.jsx)(g.F,{data:R,dataKey:"count",nameKey:"student_race",cx:"50%",cy:"50%",outerRadius:J(),fill:"#82ca9d",children:R.map(((e,t)=>(0,v.jsx)(A.f,{fill:O[t%O.length]},`cell-${t}`)))}),(0,v.jsx)(b.m,{}),(0,v.jsx)(f.s,{iconType:"square",layout:"vertical",align:"right",verticalAlign:"middle",wrapperStyle:{paddingLeft:"20px"},payload:R.map(((e,t)=>({value:e.student_race,type:"square",color:O[t%O.length]})))})]})})]})})}),(0,v.jsx)(d.Ay,{item:!0,xs:12,sm:6,md:4,children:(0,v.jsx)(x.A,{sx:{...C,backgroundColor:e?"#1E293B":"#E1F5FE",border:"1px solid #ccc"},children:(0,v.jsxs)(h.A,{children:[(0,v.jsx)(o.A,{variant:"h6",sx:{color:e?"#FFFFFF":"#000000"},children:"Marital Status"}),(0,v.jsx)(j.u,{width:"100%",height:200,children:(0,v.jsxs)(m.r,{children:[(0,v.jsx)(g.F,{data:T,dataKey:"count",nameKey:"student_marital_status",cx:"50%",cy:"50%",outerRadius:J(),fill:"#82ca9d",children:T.map(((e,t)=>(0,v.jsx)(A.f,{fill:O[t%O.length]},`cell-${t}`)))}),(0,v.jsx)(b.m,{}),(0,v.jsx)(f.s,{iconType:"square",layout:"vertical",align:"right",verticalAlign:"middle",wrapperStyle:{paddingLeft:"20px"},payload:T.map(((e,t)=>({value:e.student_marital_status,type:"square",color:O[t%O.length]})))})]})})]})})}),(0,v.jsx)(d.Ay,{item:!0,xs:12,sm:6,md:4,children:(0,v.jsx)(x.A,{sx:{...C,backgroundColor:e?"#1E293B":"#E1F5FE",border:"1px solid #ccc"},children:(0,v.jsxs)(h.A,{children:[(0,v.jsx)(o.A,{variant:"h6",sx:{color:e?"#FFFFFF":"#000000"},children:"Employment Status"}),(0,v.jsx)(j.u,{width:"100%",height:200,children:(0,v.jsxs)(m.r,{children:[(0,v.jsx)(g.F,{data:W,dataKey:"count",nameKey:"student_employment_status",cx:"50%",cy:"50%",outerRadius:J(),fill:"#82ca9d",children:W.map(((e,t)=>(0,v.jsx)(A.f,{fill:O[t%O.length]},`cell-${t}`)))}),(0,v.jsx)(b.m,{}),(0,v.jsx)(f.s,{iconType:"square",layout:"vertical",align:"right",verticalAlign:"middle",wrapperStyle:{paddingLeft:"20px"},payload:W.map(((e,t)=>({value:e.student_employment_status,type:"square",color:O[t%O.length]})))})]})})]})})})]})]})}}}]);
//# sourceMappingURL=479.e56c761b.chunk.js.map