"use strict";(self.webpackChunkfrontends=self.webpackChunkfrontends||[]).push([[479],{87479:(t,e,n)=>{n.r(e),n.d(e,{default:()=>C});var s=n(65043),r=n(86213),a=n(26240),o=n(85442),i=n(7353),c=n(94496),l=n(68903),d=n(12110),u=n(26494),h=n(75155),x=n(42400),F=n(38846),m=n(39509),j=n(50108),y=n(89282),p=n(53439),g=n(17869),A=n(86150),b=n(21327),_=n(27415),f=n(70579);const E="https://willowtonbursary.co.za/api",w={borderRadius:2,boxShadow:"0px 4px 8px rgba(0, 0, 0, 0.1)",padding:2,color:"#212121"},C=()=>{const{isDarkMode:t}=(0,s.useContext)(_.D),[e,n]=(0,s.useState)(null),[C,v]=(0,s.useState)(!0),[k,S]=(0,s.useState)([]),[B,$]=(0,s.useState)([]),[z,K]=(0,s.useState)([]),[R,D]=(0,s.useState)([]),[N,L]=(0,s.useState)([]),[W,I]=(0,s.useState)([]),M=JSON.parse(localStorage.getItem("user")),P=M?`${M.first_name} ${M.last_name}`:"Guest",T=(0,a.A)(),G=(0,o.A)(T.breakpoints.down("sm")),H=(0,o.A)(T.breakpoints.between("sm","md")),J=["#4E79A7","#A0CBE8","#F28E2B","#FFBE7D","#59A14F","#8CD17D","#B6992D","#F1CE63","#499894","#86BCB6"],O=()=>G?55:H?65:75;if((0,s.useEffect)((()=>{(async()=>{try{const t=await r.A.get(`${E}/dashboard`);n(t.data)}catch(t){console.error("Error fetching dashboard data:",t)}finally{v(!1)}})(),(async()=>{try{const t=(await r.A.get(`${E}/student-nationality-distribution`)).data.filter((t=>t.student_nationality&&"unknown"!==t.student_nationality.toLowerCase())).map((t=>({...t,count:Number(t.count)||0,student_nationality:t.student_nationality})));S(t)}catch(t){console.error("Error fetching nationality data:",t)}})(),(async()=>{try{const t=(await r.A.get(`${E}/student-highest-education-distribution`)).data.filter((t=>t.student_highest_education&&"unknown"!==t.student_highest_education.toLowerCase())).map((t=>({...t,count:Number(t.count)||0,student_highest_education:t.student_highest_education})));$(t)}catch(t){console.error("Error fetching education data:",t)}})(),(async()=>{try{const t=(await r.A.get(`${E}/student-current-education-distribution`)).data.filter((t=>t.student_type&&"unknown"!==t.student_type.toLowerCase())).map((t=>({...t,count:Number(t.count)||0,student_type:t.student_type})));K(t)}catch(t){console.error("Error fetching current education data:",t)}})(),(async()=>{try{const t=(await r.A.get(`${E}/student-race-distribution`)).data.filter((t=>t.student_race&&"unknown"!==t.student_race.toLowerCase())).map((t=>({...t,count:Number(t.count)||0,student_race:t.student_race})));D(t)}catch(t){console.error("Error fetching race data:",t)}})(),(async()=>{try{const t=(await r.A.get(`${E}/student-marital-status-distribution`)).data.filter((t=>t.student_marital_status&&"unknown"!==t.student_marital_status.toLowerCase())).map((t=>({...t,count:Number(t.count)||0,student_marital_status:t.student_marital_status})));L(t)}catch(t){console.error("Error fetching marital data:",t)}})(),(async()=>{try{const t=(await r.A.get(`${E}/student-employment-status-distribution`)).data.filter((t=>t.student_employment_status&&"unknown"!==t.student_employment_status.toLowerCase())).map((t=>({...t,count:Number(t.count)||0,student_employment_status:t.student_employment_status})));I(t)}catch(t){console.error("Error fetching employment data:",t)}})()}),[]),C)return null;const V=e=>{const{payload:n}=e;return(0,f.jsx)("ul",{style:{listStyle:"none",padding:0,textAlign:"center",marginTop:10},children:n.map(((e,n)=>(0,f.jsxs)("li",{style:{display:"inline-block",margin:"0 10px"},children:[(0,f.jsx)("span",{style:{display:"inline-block",width:10,height:10,borderRadius:"50%",backgroundColor:e.color,marginRight:5}}),(0,f.jsx)("span",{style:{color:t?"#FFFFFF":"#000000",fontSize:"12px"},children:e.value})]},`item-${n}`)))})};return(0,f.jsxs)(i.A,{sx:{backgroundColor:t?"#2D3748":"#F7FAFC",padding:"1px"},children:[(0,f.jsxs)(i.A,{sx:{backgroundColor:t?"#1E293B":"#E1F5FE",padding:"20px",borderRadius:"8px",marginBottom:"20px",border:"1px solid #ccc"},children:[(0,f.jsx)(c.A,{variant:"h4",sx:{fontWeight:"bold",color:t?"white":"black"},children:"Dashboard"}),(0,f.jsxs)(c.A,{variant:"body1",sx:{color:t?"white":"black",marginTop:1},children:["Welcome, ",P,"! \ud83d\udc4b"]})]}),(0,f.jsxs)(l.Ay,{container:!0,spacing:3,children:[(0,f.jsx)(l.Ay,{item:!0,xs:12,sm:6,md:3,children:(0,f.jsx)(d.A,{sx:{...w,backgroundColor:t?"#1E293B":"#E1F5FE",border:"1px solid #ccc"},children:(0,f.jsxs)(u.A,{children:[(0,f.jsxs)(i.A,{display:"flex",justifyContent:"space-between",children:[(0,f.jsx)(c.A,{variant:"h6",sx:{color:t?"#FFFFFF":"#000000"},children:"Student Count"}),(0,f.jsx)(h.A,{sx:{fontSize:40,color:"#4B8BBE"}})]}),(0,f.jsx)(c.A,{variant:"h4",sx:{fontWeight:"bold",color:t?"#FFFFFF":"#000000"},children:e.studentCount})]})})}),(0,f.jsx)(l.Ay,{item:!0,xs:12,sm:6,md:3,children:(0,f.jsx)(d.A,{sx:{...w,backgroundColor:t?"#1E293B":"#E1F5FE",border:"1px solid #ccc"},children:(0,f.jsxs)(u.A,{children:[(0,f.jsxs)(i.A,{display:"flex",justifyContent:"space-between",children:[(0,f.jsx)(c.A,{variant:"h6",sx:{color:t?"#FFFFFF":"#000000"},children:"Student Payments"}),(0,f.jsx)(x.A,{sx:{fontSize:40,color:"#F79C42"}})]}),(0,f.jsx)(c.A,{variant:"h4",sx:{fontWeight:"bold",color:t?"#FFFFFF":"#000000"},children:e.totalPayments})]})})}),(0,f.jsx)(l.Ay,{item:!0,xs:12,sm:6,md:3,children:(0,f.jsx)(d.A,{sx:{...w,backgroundColor:t?"#1E293B":"#E1F5FE",border:"1px solid #ccc"},children:(0,f.jsxs)(u.A,{children:[(0,f.jsxs)(i.A,{display:"flex",justifyContent:"space-between",children:[(0,f.jsx)(c.A,{variant:"h6",sx:{color:t?"#FFFFFF":"#000000"},children:"Voluntary Services"}),(0,f.jsx)(F.A,{sx:{fontSize:40,color:"#61C0BF"}})]}),(0,f.jsx)(c.A,{variant:"h4",sx:{fontWeight:"bold",color:t?"#FFFFFF":"#000000"},children:e.voluntaryServicesCount})]})})}),(0,f.jsx)(l.Ay,{item:!0,xs:12,sm:6,md:3,children:(0,f.jsx)(d.A,{sx:{...w,backgroundColor:t?"#1E293B":"#E1F5FE",border:"1px solid #ccc"},children:(0,f.jsxs)(u.A,{children:[(0,f.jsxs)(i.A,{display:"flex",justifyContent:"space-between",children:[(0,f.jsx)(c.A,{variant:"h6",sx:{color:t?"#FFFFFF":"#000000"},children:"Student Interviews"}),(0,f.jsx)(m.A,{sx:{fontSize:40,color:"#F04E23"}})]}),(0,f.jsx)(c.A,{variant:"h4",sx:{fontWeight:"bold",color:t?"#FFFFFF":"#000000"},children:e.interviewsCount})]})})}),(0,f.jsx)(l.Ay,{item:!0,xs:12,sm:6,md:4,children:(0,f.jsx)(d.A,{sx:{...w,backgroundColor:t?"#1E293B":"#E1F5FE",border:"1px solid #ccc"},children:(0,f.jsxs)(u.A,{children:[(0,f.jsx)(c.A,{variant:"h6",sx:{color:t?"#FFFFFF":"#000000"},children:"Nationalities"}),(0,f.jsx)(i.A,{sx:{height:260},children:(0,f.jsx)(j.u,{width:"100%",height:"100%",children:(0,f.jsxs)(y.r,{children:[(0,f.jsx)(p.F,{data:k,dataKey:"count",nameKey:"student_nationality",cx:"50%",cy:"50%",outerRadius:O(),children:k.map(((t,e)=>(0,f.jsx)(g.f,{fill:J[e%J.length]},`cell-${e}`)))}),(0,f.jsx)(A.m,{}),(0,f.jsx)(b.s,{content:V,layout:"horizontal",align:"center",verticalAlign:"bottom",payload:k.map(((t,e)=>({value:t.student_nationality,type:"circle",color:J[e%J.length]})))})]})})})]})})}),(0,f.jsx)(l.Ay,{item:!0,xs:12,sm:6,md:4,children:(0,f.jsx)(d.A,{sx:{...w,backgroundColor:t?"#1E293B":"#E1F5FE",border:"1px solid #ccc"},children:(0,f.jsxs)(u.A,{children:[(0,f.jsx)(c.A,{variant:"h6",sx:{color:t?"#FFFFFF":"#000000"},children:"Current Education"}),(0,f.jsx)(i.A,{sx:{height:260},children:(0,f.jsx)(j.u,{width:"100%",height:"100%",children:(0,f.jsxs)(y.r,{children:[(0,f.jsx)(p.F,{data:z,dataKey:"count",nameKey:"student_type",cx:"50%",cy:"50%",outerRadius:O(),children:z.map(((t,e)=>(0,f.jsx)(g.f,{fill:J[e%J.length]},`cell-${e}`)))}),(0,f.jsx)(A.m,{}),(0,f.jsx)(b.s,{content:V,layout:"horizontal",align:"center",verticalAlign:"bottom",payload:z.map(((t,e)=>({value:t.student_type,type:"circle",color:J[e%J.length]})))})]})})})]})})}),(0,f.jsx)(l.Ay,{item:!0,xs:12,sm:6,md:4,children:(0,f.jsx)(d.A,{sx:{...w,backgroundColor:t?"#1E293B":"#E1F5FE",border:"1px solid #ccc"},children:(0,f.jsxs)(u.A,{children:[(0,f.jsx)(c.A,{variant:"h6",sx:{color:t?"#FFFFFF":"#000000"},children:"Highest Education"}),(0,f.jsx)(i.A,{sx:{height:260},children:(0,f.jsx)(j.u,{width:"100%",height:"100%",children:(0,f.jsxs)(y.r,{children:[(0,f.jsx)(p.F,{data:B,dataKey:"count",nameKey:"student_highest_education",cx:"50%",cy:"50%",outerRadius:O(),children:B.map(((t,e)=>(0,f.jsx)(g.f,{fill:J[e%J.length]},`cell-${e}`)))}),(0,f.jsx)(A.m,{}),(0,f.jsx)(b.s,{content:V,layout:"horizontal",align:"center",verticalAlign:"bottom",payload:B.map(((t,e)=>({value:t.student_highest_education,type:"circle",color:J[e%J.length]})))})]})})})]})})}),(0,f.jsx)(l.Ay,{item:!0,xs:12,sm:6,md:4,children:(0,f.jsx)(d.A,{sx:{...w,backgroundColor:t?"#1E293B":"#E1F5FE",border:"1px solid #ccc"},children:(0,f.jsxs)(u.A,{children:[(0,f.jsx)(c.A,{variant:"h6",sx:{color:t?"#FFFFFF":"#000000"},children:"Race"}),(0,f.jsx)(i.A,{sx:{height:260},children:(0,f.jsx)(j.u,{width:"100%",height:"100%",children:(0,f.jsxs)(y.r,{children:[(0,f.jsx)(p.F,{data:R,dataKey:"count",nameKey:"student_race",cx:"50%",cy:"50%",outerRadius:O(),children:R.map(((t,e)=>(0,f.jsx)(g.f,{fill:J[e%J.length]},`cell-${e}`)))}),(0,f.jsx)(A.m,{}),(0,f.jsx)(b.s,{content:V,layout:"horizontal",align:"center",verticalAlign:"bottom",payload:R.map(((t,e)=>({value:t.student_race,type:"circle",color:J[e%J.length]})))})]})})})]})})}),(0,f.jsx)(l.Ay,{item:!0,xs:12,sm:6,md:4,children:(0,f.jsx)(d.A,{sx:{...w,backgroundColor:t?"#1E293B":"#E1F5FE",border:"1px solid #ccc"},children:(0,f.jsxs)(u.A,{children:[(0,f.jsx)(c.A,{variant:"h6",sx:{color:t?"#FFFFFF":"#000000"},children:"Marital Status"}),(0,f.jsx)(i.A,{sx:{height:260},children:(0,f.jsx)(j.u,{width:"100%",height:"100%",children:(0,f.jsxs)(y.r,{children:[(0,f.jsx)(p.F,{data:N,dataKey:"count",nameKey:"student_marital_status",cx:"50%",cy:"50%",outerRadius:O(),children:N.map(((t,e)=>(0,f.jsx)(g.f,{fill:J[e%J.length]},`cell-${e}`)))}),(0,f.jsx)(A.m,{}),(0,f.jsx)(b.s,{content:V,layout:"horizontal",align:"center",verticalAlign:"bottom",payload:N.map(((t,e)=>({value:t.student_marital_status,type:"circle",color:J[e%J.length]})))})]})})})]})})}),(0,f.jsx)(l.Ay,{item:!0,xs:12,sm:6,md:4,children:(0,f.jsx)(d.A,{sx:{...w,backgroundColor:t?"#1E293B":"#E1F5FE",border:"1px solid #ccc"},children:(0,f.jsxs)(u.A,{children:[(0,f.jsx)(c.A,{variant:"h6",sx:{color:t?"#FFFFFF":"#000000"},children:"Employment Status"}),(0,f.jsx)(i.A,{sx:{height:260},children:(0,f.jsx)(j.u,{width:"100%",height:"100%",children:(0,f.jsxs)(y.r,{children:[(0,f.jsx)(p.F,{data:W,dataKey:"count",nameKey:"student_employment_status",cx:"50%",cy:"50%",outerRadius:O(),children:W.map(((t,e)=>(0,f.jsx)(g.f,{fill:J[e%J.length]},`cell-${e}`)))}),(0,f.jsx)(A.m,{}),(0,f.jsx)(b.s,{content:V,layout:"horizontal",align:"center",verticalAlign:"bottom",payload:W.map(((t,e)=>({value:t.student_employment_status,type:"circle",color:J[e%J.length]})))})]})})})]})})})]})]})}}}]);
//# sourceMappingURL=479.02ad4095.chunk.js.map