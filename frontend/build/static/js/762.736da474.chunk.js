"use strict";(self.webpackChunkfrontends=self.webpackChunkfrontends||[]).push([[762],{16871:(e,t,r)=>{r.d(t,{A:()=>l});r(65043);var o=r(59662),a=r(70579);const l=(0,o.A)((0,a.jsx)("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close")},36248:(e,t,r)=>{r.d(t,{A:()=>i});var o=r(65043),a=r(7353),l=r(94496),n=r(27415),s=r(70579);const i=e=>{let{title:t}=e;const{isDarkMode:r}=(0,o.useContext)(n.D);return(0,s.jsx)(a.A,{sx:{padding:"12px",backgroundColor:r?"#1e293b":"#e1f5fe",borderRadius:"8px",marginBottom:"12px",border:"1px solid #ccc"},children:(0,s.jsx)(l.A,{variant:"h6",sx:{color:r?"white":"black",fontWeight:"bold"},children:t})})}},49762:(e,t,r)=>{r.r(t),r.d(t,{default:()=>R});var o=r(36248),a=r(65043),l=r(7353),n=r(81637),s=r(58387),i=r(98610),c=r(31546),d=r(34535),p=r(56262),u=r(98206),x=r(4162),h=r(6803),g=r(52445),A=r(61596),m=r(92532),v=r(72372);function y(e){return(0,v.Ay)("MuiAlert",e)}const f=(0,m.A)("MuiAlert",["root","action","icon","message","filled","colorSuccess","colorInfo","colorWarning","colorError","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]);var F=r(17392),C=r(59662),j=r(70579);const b=(0,C.A)((0,j.jsx)("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),S=(0,C.A)((0,j.jsx)("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),w=(0,C.A)((0,j.jsx)("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),M=(0,C.A)((0,j.jsx)("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined");var k=r(16871);const $=(0,d.Ay)(A.A,{name:"MuiAlert",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.variant],t[`${r.variant}${(0,h.A)(r.color||r.severity)}`]]}})((0,p.A)((e=>{let{theme:t}=e;const r="light"===t.palette.mode?c.e$:c.a,o="light"===t.palette.mode?c.a:c.e$;return{...t.typography.body2,backgroundColor:"transparent",display:"flex",padding:"6px 16px",variants:[...Object.entries(t.palette).filter((0,g.A)(["light"])).map((e=>{let[a]=e;return{props:{colorSeverity:a,variant:"standard"},style:{color:t.vars?t.vars.palette.Alert[`${a}Color`]:r(t.palette[a].light,.6),backgroundColor:t.vars?t.vars.palette.Alert[`${a}StandardBg`]:o(t.palette[a].light,.9),[`& .${f.icon}`]:t.vars?{color:t.vars.palette.Alert[`${a}IconColor`]}:{color:t.palette[a].main}}}})),...Object.entries(t.palette).filter((0,g.A)(["light"])).map((e=>{let[o]=e;return{props:{colorSeverity:o,variant:"outlined"},style:{color:t.vars?t.vars.palette.Alert[`${o}Color`]:r(t.palette[o].light,.6),border:`1px solid ${(t.vars||t).palette[o].light}`,[`& .${f.icon}`]:t.vars?{color:t.vars.palette.Alert[`${o}IconColor`]}:{color:t.palette[o].main}}}})),...Object.entries(t.palette).filter((0,g.A)(["dark"])).map((e=>{let[r]=e;return{props:{colorSeverity:r,variant:"filled"},style:{fontWeight:t.typography.fontWeightMedium,...t.vars?{color:t.vars.palette.Alert[`${r}FilledColor`],backgroundColor:t.vars.palette.Alert[`${r}FilledBg`]}:{backgroundColor:"dark"===t.palette.mode?t.palette[r].dark:t.palette[r].main,color:t.palette.getContrastText(t.palette[r].main)}}}}))]}}))),L=(0,d.Ay)("div",{name:"MuiAlert",slot:"Icon",overridesResolver:(e,t)=>t.icon})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),z=(0,d.Ay)("div",{name:"MuiAlert",slot:"Message",overridesResolver:(e,t)=>t.message})({padding:"8px 0",minWidth:0,overflow:"auto"}),E=(0,d.Ay)("div",{name:"MuiAlert",slot:"Action",overridesResolver:(e,t)=>t.action})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),B={success:(0,j.jsx)(b,{fontSize:"inherit"}),warning:(0,j.jsx)(S,{fontSize:"inherit"}),error:(0,j.jsx)(w,{fontSize:"inherit"}),info:(0,j.jsx)(M,{fontSize:"inherit"})},P=a.forwardRef((function(e,t){const r=(0,u.b)({props:e,name:"MuiAlert"}),{action:o,children:a,className:l,closeText:n="Close",color:c,components:d={},componentsProps:p={},icon:g,iconMapping:A=B,onClose:m,role:v="alert",severity:f="success",slotProps:C={},slots:b={},variant:S="standard",...w}=r,M={...r,color:c,severity:f,variant:S,colorSeverity:c||f},P=(e=>{const{variant:t,color:r,severity:o,classes:a}=e,l={root:["root",`color${(0,h.A)(r||o)}`,`${t}${(0,h.A)(r||o)}`,`${t}`],icon:["icon"],message:["message"],action:["action"]};return(0,i.A)(l,y,a)})(M),I={slots:{closeButton:d.CloseButton,closeIcon:d.CloseIcon,...b},slotProps:{...p,...C}},[N,R]=(0,x.A)("root",{ref:t,shouldForwardComponentProp:!0,className:(0,s.A)(P.root,l),elementType:$,externalForwardedProps:{...I,...w},ownerState:M,additionalProps:{role:v,elevation:0}}),[_,T]=(0,x.A)("icon",{className:P.icon,elementType:L,externalForwardedProps:I,ownerState:M}),[W,O]=(0,x.A)("message",{className:P.message,elementType:z,externalForwardedProps:I,ownerState:M}),[D,H]=(0,x.A)("action",{className:P.action,elementType:E,externalForwardedProps:I,ownerState:M}),[V,Z]=(0,x.A)("closeButton",{elementType:F.A,externalForwardedProps:I,ownerState:M}),[U,X]=(0,x.A)("closeIcon",{elementType:k.A,externalForwardedProps:I,ownerState:M});return(0,j.jsxs)(N,{...R,children:[!1!==g?(0,j.jsx)(_,{...T,children:g||A[f]||B[f]}):null,(0,j.jsx)(W,{...O,children:a}),null!=o?(0,j.jsx)(D,{...H,children:o}):null,null==o&&m?(0,j.jsx)(D,{...H,children:(0,j.jsx)(V,{size:"small","aria-label":n,title:n,color:"inherit",onClick:m,...Z,children:(0,j.jsx)(U,{fontSize:"small",...X})})}):null]})}));var I=r(86213),N=r(27415);r(84713);const R=function(){const{isDarkMode:e}=(0,a.useContext)(N.D),[t,r]=(0,a.useState)([]),[s,i]=(0,a.useState)(""),[c,d]=(0,a.useState)([]),[p,u]=(0,a.useState)(!0),[x,h]=(0,a.useState)(null);(0,a.useEffect)((()=>{(async()=>{try{u(!0);const e=await I.A.get("https://willowtonbursary.co.za/api/activity-log");e.data.length>0&&d(["username","email_address","act_type","act_date","act_time"]),r(e.data),u(!1)}catch(e){console.error("Error fetching activity logs:",e),h("Failed to fetch activity logs. Please try again later."),u(!1)}})()}),[]);const g=t.filter((e=>c.some((t=>{const r=e[t];return r&&"string"===typeof r&&r.toLowerCase().includes(s.toLowerCase())})))),A=e=>{switch(e){case"act_type":return"Activity";case"act_date":return"Date";case"act_time":return"Time";default:return e.replace(/_/g," ").replace(/\b\w/g,(e=>e.toUpperCase()))}};return(0,j.jsxs)(l.A,{sx:{backgroundColor:e?"#2D3748":"#F7FAFC",minHeight:"100vh",padding:"20px"},children:[(0,j.jsx)(o.A,{title:"Activity Logs"}),(0,j.jsx)("div",{className:"generic-search-container",children:(0,j.jsx)("input",{type:"text",className:"generic-search-input",placeholder:"Search...",value:s,onChange:e=>i(e.target.value)})}),p&&(0,j.jsx)(l.A,{sx:{display:"flex",justifyContent:"center",padding:"20px"},children:(0,j.jsx)(n.A,{})}),x&&(0,j.jsx)(P,{severity:"error",sx:{marginBottom:"20px"},children:x}),!p&&!x&&(0,j.jsx)("div",{className:"generic-table-container",style:{overflowX:"auto"},children:(0,j.jsxs)("table",{className:"generic-table",style:{backgroundColor:e?"#1E293B":"#FFFFFF",width:"100%",borderCollapse:"collapse"},children:[(0,j.jsx)("thead",{children:(0,j.jsx)("tr",{children:c.map((t=>(0,j.jsx)("th",{style:{color:e?"#FFFFFF":"#1E293B",padding:"12px",borderBottom:e?"1px solid #4B5563":"1px solid #E2E8F0",textAlign:"left"},children:A(t)},t)))})}),(0,j.jsx)("tbody",{children:g.length>0?g.map(((t,r)=>(0,j.jsx)("tr",{style:{borderBottom:e?"1px solid #4B5563":"1px solid #E2E8F0"},children:c.map((r=>{return(0,j.jsx)("td",{style:{color:e?"#FFFFFF":"#1E293B",padding:"12px"},children:"act_type"===r?(0,j.jsx)("span",{style:(o=t[r],"Login"===o?{backgroundColor:"#22C55E",color:"#FFFFFF",padding:"4px 8px",borderRadius:"4px",display:"inline-block"}:"Logout"===o?{backgroundColor:"#EF4444",color:"#FFFFFF",padding:"4px 8px",borderRadius:"4px",display:"inline-block"}:{}),children:t[r]||"N/A"}):t[r]||"N/A"},r);var o}))},`${t.username}-${t.act_date}-${r}`))):(0,j.jsx)("tr",{children:(0,j.jsx)("td",{colSpan:c.length,style:{textAlign:"center",padding:"20px",color:e?"#9CA3AF":"#6B7280"},children:"No matching records found"})})})]})})]})}},84713:()=>{}}]);
//# sourceMappingURL=762.736da474.chunk.js.map