"use strict";(self.webpackChunkfrontends=self.webpackChunkfrontends||[]).push([[479],{87479:(e,t,r)=>{r.r(t),r.d(t,{default:()=>C});var s=r(65043),a=r(86213),n=r(26240),i=r(85442),c=r(7353),l=r(94496),o=r(68903),d=r(12110),x=r(26494),u=r(75155),h=r(42400),F=r(38846),p=r(39509),y=r(50108),m=r(89282),j=r(53439),g=r(17869),A=r(86150),b=r(21327),f=r(27415),E=r(70579);const v="https://willowtonbursary.co.za/api",w={borderRadius:2,boxShadow:"0px 4px 8px rgba(0, 0, 0, 0.1)",padding:2,color:"#212121"},C=()=>{const{isDarkMode:e}=(0,s.useContext)(f.D),[t,r]=(0,s.useState)(null),[C,S]=(0,s.useState)(!0),[B,k]=(0,s.useState)([]),[_,$]=(0,s.useState)([]),[q,K]=(0,s.useState)([]),[D,R]=(0,s.useState)([]),[N,T]=(0,s.useState)([]),[L,W]=(0,s.useState)([]),z=JSON.parse(localStorage.getItem("user")),I=z?`${z.first_name} ${z.last_name}`:"Guest",M=(0,n.A)(),P=(0,i.A)(M.breakpoints.down("sm")),G=(0,i.A)(M.breakpoints.between("sm","md")),H=()=>P?55:G?65:75;if((0,s.useEffect)((()=>{(async()=>{try{const e=await a.A.get(`${v}/dashboard`);r(e.data)}catch(e){console.error("Error fetching dashboard data:",e)}finally{S(!1)}})(),(async()=>{try{const e=(await a.A.get(`${v}/student-nationality-distribution`)).data.map((e=>({...e,count:Number(e.count)})));k(e)}catch(e){console.error("Error fetching nationality data:",e)}})(),(async()=>{try{const e=(await a.A.get(`${v}/student-highest-education-distribution`)).data.map((e=>({...e,count:Number(e.count)})));$(e)}catch(e){console.error("Error fetching education data:",e)}})(),(async()=>{try{const e=(await a.A.get(`${v}/student-current-education-distribution`)).data.map((e=>({...e,count:Number(e.count)})));K(e)}catch(e){console.error("Error fetching current education data:",e)}})(),(async()=>{try{const e=(await a.A.get(`${v}/student-race-distribution`)).data.map((e=>({...e,count:Number(e.count)})));R(e)}catch(e){console.error("Error fetching race data:",e)}})(),(async()=>{try{const e=(await a.A.get(`${v}/student-marital-status-distribution`)).data.map((e=>({...e,count:Number(e.count)})));T(e)}catch(e){console.error("Error fetching marital data:",e)}})(),(async()=>{try{const e=(await a.A.get(`${v}/student-employment-status-distribution`)).data.map((e=>({...e,count:Number(e.count)})));W(e)}catch(e){console.error("Error fetching employment data:",e)}})()}),[]),C)return null;const J=["#4B8BBE","#F79C42","#61C0BF","#F04E23","#7B68EE","#90EE90","#FF6347","#FFD700","#20B2AA","#F08080","#8A2BE2","#32CD32","#FF8C00","#D2691E","#98FB98","#DC143C","#8B0000","#FF4500","#00FA9A","#D3D3D3"];return(0,E.jsxs)(c.A,{sx:{backgroundColor:e?"#2D3748":"#F7FAFC",padding:"1px"},children:[(0,E.jsxs)(c.A,{sx:{backgroundColor:e?"#1E293B":"#E1F5FE",padding:"20px",borderRadius:"8px",marginBottom:"20px",border:"1px solid #ccc"},children:[(0,E.jsx)(l.A,{variant:"h4",sx:{fontWeight:"bold",color:e?"white":"black"},children:"Dashboard"}),(0,E.jsxs)(l.A,{variant:"body1",sx:{color:e?"white":"black",marginTop:1},children:["Welcome, ",I,"! \ud83d\udc4b"]})]}),(0,E.jsxs)(o.Ay,{container:!0,spacing:3,children:[(0,E.jsx)(o.Ay,{item:!0,xs:12,sm:6,md:3,children:(0,E.jsx)(d.A,{sx:{...w,backgroundColor:e?"#1E293B":"#E1F5FE",border:"1px solid #ccc"},children:(0,E.jsxs)(x.A,{children:[(0,E.jsxs)(c.A,{display:"flex",justifyContent:"space-between",children:[(0,E.jsx)(l.A,{variant:"h6",sx:{color:e?"#FFFFFF":"#000000"},children:"Student Count"}),(0,E.jsx)(u.A,{sx:{fontSize:40,color:"#4B8BBE"}})]}),(0,E.jsx)(l.A,{variant:"h4",sx:{fontWeight:"bold",color:e?"#FFFFFF":"#000000"},children:t.studentCount})]})})}),(0,E.jsx)(o.Ay,{item:!0,xs:12,sm:6,md:3,children:(0,E.jsx)(d.A,{sx:{...w,backgroundColor:e?"#1E293B":"#E1F5FE",border:"1px solid #ccc"},children:(0,E.jsxs)(x.A,{children:[(0,E.jsxs)(c.A,{display:"flex",justifyContent:"space-between",children:[(0,E.jsx)(l.A,{variant:"h6",sx:{color:e?"#FFFFFF":"#000000"},children:"Student Payments"}),(0,E.jsx)(h.A,{sx:{fontSize:40,color:"#F79C42"}})]}),(0,E.jsx)(l.A,{variant:"h4",sx:{fontWeight:"bold",color:e?"#FFFFFF":"#000000"},children:t.totalPayments})]})})}),(0,E.jsx)(o.Ay,{item:!0,xs:12,sm:6,md:3,children:(0,E.jsx)(d.A,{sx:{...w,backgroundColor:e?"#1E293B":"#E1F5FE",border:"1px solid #ccc"},children:(0,E.jsxs)(x.A,{children:[(0,E.jsxs)(c.A,{display:"flex",justifyContent:"space-between",children:[(0,E.jsx)(l.A,{variant:"h6",sx:{color:e?"#FFFFFF":"#000000"},children:"Voluntary Services"}),(0,E.jsx)(F.A,{sx:{fontSize:40,color:"#61C0BF"}})]}),(0,E.jsx)(l.A,{variant:"h4",sx:{fontWeight:"bold",color:e?"#FFFFFF":"#000000"},children:t.voluntaryServicesCount})]})})}),(0,E.jsx)(o.Ay,{item:!0,xs:12,sm:6,md:3,children:(0,E.jsx)(d.A,{sx:{...w,backgroundColor:e?"#1E293B":"#E1F5FE",border:"1px solid #ccc"},children:(0,E.jsxs)(x.A,{children:[(0,E.jsxs)(c.A,{display:"flex",justifyContent:"space-between",children:[(0,E.jsx)(l.A,{variant:"h6",sx:{color:e?"#FFFFFF":"#000000"},children:"Student Interviews"}),(0,E.jsx)(p.A,{sx:{fontSize:40,color:"#F04E23"}})]}),(0,E.jsx)(l.A,{variant:"h4",sx:{fontWeight:"bold",color:e?"#FFFFFF":"#000000"},children:t.interviewsCount})]})})}),(0,E.jsx)(o.Ay,{item:!0,xs:12,sm:6,md:4,children:(0,E.jsx)(d.A,{sx:{...w,backgroundColor:e?"#1E293B":"#E1F5FE",border:"1px solid #ccc"},children:(0,E.jsxs)(x.A,{children:[(0,E.jsx)(l.A,{variant:"h6",sx:{color:e?"#FFFFFF":"#000000"},children:"Nationalities"}),(0,E.jsx)(y.u,{width:"100%",height:200,children:(0,E.jsxs)(m.r,{children:[(0,E.jsx)(j.F,{data:B,dataKey:"count",nameKey:"student_nationality",cx:"50%",cy:"50%",outerRadius:H(),fill:"#82ca9d",children:B.map(((e,t)=>(0,E.jsx)(g.f,{fill:J[t%J.length]},`cell-${t}`)))}),(0,E.jsx)(A.m,{}),(0,E.jsx)(b.s,{iconType:"square",layout:"vertical",align:"right",verticalAlign:"middle",wrapperStyle:{paddingLeft:"20px"},payload:B.map(((e,t)=>({value:e.student_nationality,type:"square",color:J[t%J.length]})))})]})})]})})}),(0,E.jsx)(o.Ay,{item:!0,xs:12,sm:6,md:4,children:(0,E.jsx)(d.A,{sx:{...w,backgroundColor:e?"#1E293B":"#E1F5FE",border:"1px solid #ccc"},children:(0,E.jsxs)(x.A,{children:[(0,E.jsx)(l.A,{variant:"h6",sx:{color:e?"#FFFFFF":"#000000"},children:"Current Education"}),(0,E.jsx)(y.u,{width:"100%",height:200,children:(0,E.jsxs)(m.r,{children:[(0,E.jsx)(j.F,{data:q,dataKey:"count",nameKey:"student_type",cx:"50%",cy:"50%",outerRadius:H(),fill:"#82ca9d",children:q.map(((e,t)=>(0,E.jsx)(g.f,{fill:J[t%J.length]},`cell-${t}`)))}),(0,E.jsx)(A.m,{}),(0,E.jsx)(b.s,{iconType:"square",layout:"vertical",align:"right",verticalAlign:"middle",wrapperStyle:{paddingLeft:"20px"},payload:q.map(((e,t)=>({value:e.student_type,type:"square",color:J[t%J.length]})))})]})})]})})}),(0,E.jsx)(o.Ay,{item:!0,xs:12,sm:6,md:4,children:(0,E.jsx)(d.A,{sx:{...w,backgroundColor:e?"#1E293B":"#E1F5FE",border:"1px solid #ccc"},children:(0,E.jsxs)(x.A,{children:[(0,E.jsx)(l.A,{variant:"h6",sx:{color:e?"#FFFFFF":"#000000"},children:"Highest Education"}),(0,E.jsx)(y.u,{width:"100%",height:200,children:(0,E.jsxs)(m.r,{children:[(0,E.jsx)(j.F,{data:_,dataKey:"count",nameKey:"student_highest_education",cx:"50%",cy:"50%",outerRadius:H(),fill:"#82ca9d",children:_.map(((e,t)=>(0,E.jsx)(g.f,{fill:J[t%J.length]},`cell-${t}`)))}),(0,E.jsx)(A.m,{}),(0,E.jsx)(b.s,{iconType:"square",layout:"vertical",align:"right",verticalAlign:"middle",wrapperStyle:{paddingLeft:"20px"},payload:_.map(((e,t)=>({value:e.student_highest_education,type:"square",color:J[t%J.length]})))})]})})]})})}),(0,E.jsx)(o.Ay,{item:!0,xs:12,sm:6,md:4,children:(0,E.jsx)(d.A,{sx:{...w,backgroundColor:e?"#1E293B":"#E1F5FE",border:"1px solid #ccc"},children:(0,E.jsxs)(x.A,{children:[(0,E.jsx)(l.A,{variant:"h6",sx:{color:e?"#FFFFFF":"#000000"},children:"Race"}),(0,E.jsx)(y.u,{width:"100%",height:200,children:(0,E.jsxs)(m.r,{children:[(0,E.jsx)(j.F,{data:D,dataKey:"count",nameKey:"student_race",cx:"50%",cy:"50%",outerRadius:H(),fill:"#82ca9d",children:D.map(((e,t)=>(0,E.jsx)(g.f,{fill:J[t%J.length]},`cell-${t}`)))}),(0,E.jsx)(A.m,{}),(0,E.jsx)(b.s,{iconType:"square",layout:"vertical",align:"right",verticalAlign:"middle",wrapperStyle:{paddingLeft:"20px"},payload:D.map(((e,t)=>({value:e.student_race,type:"square",color:J[t%J.length]})))})]})})]})})}),(0,E.jsx)(o.Ay,{item:!0,xs:12,sm:6,md:4,children:(0,E.jsx)(d.A,{sx:{...w,backgroundColor:e?"#1E293B":"#E1F5FE",border:"1px solid #ccc"},children:(0,E.jsxs)(x.A,{children:[(0,E.jsx)(l.A,{variant:"h6",sx:{color:e?"#FFFFFF":"#000000"},children:"Marital Status"}),(0,E.jsx)(y.u,{width:"100%",height:200,children:(0,E.jsxs)(m.r,{children:[(0,E.jsx)(j.F,{data:N,dataKey:"count",nameKey:"student_marital_status",cx:"50%",cy:"50%",outerRadius:H(),fill:"#82ca9d",children:N.map(((e,t)=>(0,E.jsx)(g.f,{fill:J[t%J.length]},`cell-${t}`)))}),(0,E.jsx)(A.m,{}),(0,E.jsx)(b.s,{iconType:"square",layout:"vertical",align:"right",verticalAlign:"middle",wrapperStyle:{paddingLeft:"20px"},payload:N.map(((e,t)=>({value:e.student_marital_status,type:"square",color:J[t%J.length]})))})]})})]})})}),(0,E.jsx)(o.Ay,{item:!0,xs:12,sm:6,md:4,children:(0,E.jsx)(d.A,{sx:{...w,backgroundColor:e?"#1E293B":"#E1F5FE",border:"1px solid #ccc"},children:(0,E.jsxs)(x.A,{children:[(0,E.jsx)(l.A,{variant:"h6",sx:{color:e?"#FFFFFF":"#000000"},children:"Employment Status"}),(0,E.jsx)(y.u,{width:"100%",height:200,children:(0,E.jsxs)(m.r,{children:[(0,E.jsx)(j.F,{data:L,dataKey:"count",nameKey:"student_employment_status",cx:"50%",cy:"50%",outerRadius:H(),fill:"#82ca9d",children:L.map(((e,t)=>(0,E.jsx)(g.f,{fill:J[t%J.length]},`cell-${t}`)))}),(0,E.jsx)(A.m,{}),(0,E.jsx)(b.s,{iconType:"square",layout:"vertical",align:"right",verticalAlign:"middle",wrapperStyle:{paddingLeft:"20px"},payload:L.map(((e,t)=>({value:e.student_employment_status,type:"square",color:J[t%J.length]})))})]})})]})})})]})]})}}}]);
//# sourceMappingURL=479.e905bfbf.chunk.js.map