"use strict";(self.webpackChunkfrontends=self.webpackChunkfrontends||[]).push([[479],{87479:(t,e,n)=>{n.r(e),n.d(e,{default:()=>k});var s=n(89379),a=n(65043),r=n(79722),i=n(26240),o=n(85442),c=n(7353),l=n(81637),d=n(94496),h=n(68903),x=n(12110),u=n(26494),F=n(75155),j=n(42400),A=n(38846),m=n(39509),y=n(50108),g=n(89282),p=n(53439),b=n(17869),f=n(86150),_=n(21327),E=n(27415),v=n(70579);const C="https://willowtonbursary.co.za/api",w={borderRadius:2,boxShadow:"0px 4px 8px rgba(0, 0, 0, 0.1)",padding:2,color:"#212121"},k=()=>{const{isDarkMode:t}=(0,a.useContext)(E.D),[e,n]=(0,a.useState)(null),[k,S]=(0,a.useState)(!0),[B,z]=(0,a.useState)([]),[K,R]=(0,a.useState)(!0),[D,N]=(0,a.useState)([]),[I,L]=(0,a.useState)(!0),[W,M]=(0,a.useState)([]),[P,T]=(0,a.useState)(!0),[G,H]=(0,a.useState)([]),[J,O]=(0,a.useState)(!0),[V,q]=(0,a.useState)([]),[Q,U]=(0,a.useState)(!0),[X,Y]=(0,a.useState)([]),[Z,$]=(0,a.useState)(!0),tt=JSON.parse(localStorage.getItem("user")),et=tt?"".concat(tt.first_name," ").concat(tt.last_name):"Guest",nt=(0,i.A)(),st=(0,o.A)(nt.breakpoints.down("sm")),at=(0,o.A)(nt.breakpoints.between("sm","md")),rt=["#4E79A7","#A0CBE8","#F28E2B","#FFBE7D","#59A14F","#8CD17D","#B6992D","#F1CE63","#499894","#86BCB6"],it=()=>st?55:at?65:75;(0,a.useEffect)((()=>{(async()=>{try{const t=await r.A.get("".concat(C,"/dashboard"));n(t.data)}catch(t){console.error("Error fetching dashboard data:",t)}finally{S(!1)}})(),(async()=>{try{const t=(await r.A.get("".concat(C,"/student-nationality-distribution"))).data.filter((t=>t.student_nationality&&"unknown"!==t.student_nationality.toLowerCase())).map((t=>(0,s.A)((0,s.A)({},t),{},{count:Number(t.count)||0,student_nationality:t.student_nationality})));z(t)}catch(t){console.error("Error fetching nationality data:",t)}finally{R(!1)}})(),(async()=>{try{const t=(await r.A.get("".concat(C,"/student-highest-education-distribution"))).data.filter((t=>t.student_highest_education&&"unknown"!==t.student_highest_education.toLowerCase())).map((t=>(0,s.A)((0,s.A)({},t),{},{count:Number(t.count)||0,student_highest_education:t.student_highest_education})));N(t)}catch(t){console.error("Error fetching education data:",t)}finally{L(!1)}})(),(async()=>{try{const t=(await r.A.get("".concat(C,"/student-current-education-distribution"))).data.filter((t=>t.student_type&&"unknown"!==t.student_type.toLowerCase())).map((t=>(0,s.A)((0,s.A)({},t),{},{count:Number(t.count)||0,student_type:t.student_type})));M(t)}catch(t){console.error("Error fetching current education data:",t)}finally{T(!1)}})(),(async()=>{try{const t=(await r.A.get("".concat(C,"/student-race-distribution"))).data.filter((t=>t.student_race&&"unknown"!==t.student_race.toLowerCase())).map((t=>(0,s.A)((0,s.A)({},t),{},{count:Number(t.count)||0,student_race:t.student_race})));H(t)}catch(t){console.error("Error fetching race data:",t)}finally{O(!1)}})(),(async()=>{try{const t=(await r.A.get("".concat(C,"/student-marital-status-distribution"))).data.filter((t=>t.student_marital_status&&"unknown"!==t.student_marital_status.toLowerCase())).map((t=>(0,s.A)((0,s.A)({},t),{},{count:Number(t.count)||0,student_marital_status:t.student_marital_status})));q(t)}catch(t){console.error("Error fetching marital data:",t)}finally{U(!1)}})(),(async()=>{try{const t=(await r.A.get("".concat(C,"/student-employment-status-distribution"))).data.filter((t=>t.student_employment_status&&"unknown"!==t.student_employment_status.toLowerCase())).map((t=>(0,s.A)((0,s.A)({},t),{},{count:Number(t.count)||0,student_employment_status:t.student_employment_status})));Y(t)}catch(t){console.error("Error fetching employment data:",t)}finally{$(!1)}})()}),[]);const ot=e=>{const{payload:n}=e;return(0,v.jsx)("ul",{style:{listStyle:"none",padding:0,textAlign:"center",marginTop:10},children:n.map(((e,n)=>(0,v.jsxs)("li",{style:{display:"inline-block",margin:"0 10px"},children:[(0,v.jsx)("span",{style:{display:"inline-block",width:10,height:10,borderRadius:"50%",backgroundColor:e.color,marginRight:5}}),(0,v.jsx)("span",{style:{color:t?"#FFFFFF":"#000000",fontSize:"12px"},children:e.value})]},"item-".concat(n))))})},ct=()=>(0,v.jsx)(c.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:260},children:(0,v.jsx)(l.A,{})});return(0,v.jsxs)(c.A,{sx:{backgroundColor:t?"#2D3748":"#F7FAFC",padding:"1px"},children:[(0,v.jsxs)(c.A,{sx:{backgroundColor:t?"#1E293B":"#E1F5FE",padding:"20px",borderRadius:"8px",marginBottom:"20px",border:"1px solid #ccc"},children:[(0,v.jsx)(d.A,{variant:"h4",sx:{fontWeight:"bold",color:t?"white":"black"},children:"Dashboard"}),(0,v.jsxs)(d.A,{variant:"body1",sx:{color:t?"white":"black",marginTop:1},children:["Welcome, ",et,"! \ud83d\udc4b"]})]}),(0,v.jsxs)(h.Ay,{container:!0,spacing:3,children:[(0,v.jsx)(h.Ay,{item:!0,xs:12,sm:6,md:3,children:(0,v.jsx)(x.A,{sx:(0,s.A)((0,s.A)({},w),{},{backgroundColor:t?"#1E293B":"#E1F5FE",border:"1px solid #ccc"}),children:(0,v.jsx)(u.A,{children:k?(0,v.jsx)(c.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:60},children:(0,v.jsx)(l.A,{})}):(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)(c.A,{display:"flex",justifyContent:"space-between",children:[(0,v.jsx)(d.A,{variant:"h6",sx:{color:t?"#FFFFFF":"#000000"},children:"Student Count"}),(0,v.jsx)(F.A,{sx:{fontSize:40,color:"#4B8BBE"}})]}),(0,v.jsx)(d.A,{variant:"h4",sx:{fontWeight:"bold",color:t?"#FFFFFF":"#000000"},children:(null===e||void 0===e?void 0:e.studentCount)||0})]})})})}),(0,v.jsx)(h.Ay,{item:!0,xs:12,sm:6,md:3,children:(0,v.jsx)(x.A,{sx:(0,s.A)((0,s.A)({},w),{},{backgroundColor:t?"#1E293B":"#E1F5FE",border:"1px solid #ccc"}),children:(0,v.jsx)(u.A,{children:k?(0,v.jsx)(c.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:60},children:(0,v.jsx)(l.A,{})}):(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)(c.A,{display:"flex",justifyContent:"space-between",children:[(0,v.jsx)(d.A,{variant:"h6",sx:{color:t?"#FFFFFF":"#000000"},children:"Student Payments"}),(0,v.jsx)(j.A,{sx:{fontSize:40,color:"#F79C42"}})]}),(0,v.jsx)(d.A,{variant:"h4",sx:{fontWeight:"bold",color:t?"#FFFFFF":"#000000"},children:(null===e||void 0===e?void 0:e.totalPayments)||0})]})})})}),(0,v.jsx)(h.Ay,{item:!0,xs:12,sm:6,md:3,children:(0,v.jsx)(x.A,{sx:(0,s.A)((0,s.A)({},w),{},{backgroundColor:t?"#1E293B":"#E1F5FE",border:"1px solid #ccc"}),children:(0,v.jsx)(u.A,{children:k?(0,v.jsx)(c.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:60},children:(0,v.jsx)(l.A,{})}):(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)(c.A,{display:"flex",justifyContent:"space-between",children:[(0,v.jsx)(d.A,{variant:"h6",sx:{color:t?"#FFFFFF":"#000000"},children:"Voluntary Services"}),(0,v.jsx)(A.A,{sx:{fontSize:40,color:"#61C0BF"}})]}),(0,v.jsx)(d.A,{variant:"h4",sx:{fontWeight:"bold",color:t?"#FFFFFF":"#000000"},children:(null===e||void 0===e?void 0:e.voluntaryServicesCount)||0})]})})})}),(0,v.jsx)(h.Ay,{item:!0,xs:12,sm:6,md:3,children:(0,v.jsx)(x.A,{sx:(0,s.A)((0,s.A)({},w),{},{backgroundColor:t?"#1E293B":"#E1F5FE",border:"1px solid #ccc"}),children:(0,v.jsx)(u.A,{children:k?(0,v.jsx)(c.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:60},children:(0,v.jsx)(l.A,{})}):(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)(c.A,{display:"flex",justifyContent:"space-between",children:[(0,v.jsx)(d.A,{variant:"h6",sx:{color:t?"#FFFFFF":"#000000"},children:"Student Interviews"}),(0,v.jsx)(m.A,{sx:{fontSize:40,color:"#F04E23"}})]}),(0,v.jsx)(d.A,{variant:"h4",sx:{fontWeight:"bold",color:t?"#FFFFFF":"#000000"},children:(null===e||void 0===e?void 0:e.interviewsCount)||0})]})})})}),(0,v.jsx)(h.Ay,{item:!0,xs:12,sm:6,md:4,children:(0,v.jsx)(x.A,{sx:(0,s.A)((0,s.A)({},w),{},{backgroundColor:t?"#1E293B":"#E1F5FE",border:"1px solid #ccc"}),children:(0,v.jsxs)(u.A,{children:[(0,v.jsx)(d.A,{variant:"h6",sx:{color:t?"#FFFFFF":"#000000"},children:"Nationalities"}),K?ct():(0,v.jsx)(c.A,{sx:{height:260},children:(0,v.jsx)(y.u,{width:"100%",height:"100%",children:(0,v.jsxs)(g.r,{children:[(0,v.jsx)(p.F,{data:B,dataKey:"count",nameKey:"student_nationality",cx:"50%",cy:"50%",outerRadius:it(),children:B.map(((t,e)=>(0,v.jsx)(b.f,{fill:rt[e%rt.length]},"cell-".concat(e))))}),(0,v.jsx)(f.m,{}),(0,v.jsx)(_.s,{content:ot,layout:"horizontal",align:"center",verticalAlign:"bottom",payload:B.map(((t,e)=>({value:t.student_nationality,type:"circle",color:rt[e%rt.length]})))})]})})})]})})}),(0,v.jsx)(h.Ay,{item:!0,xs:12,sm:6,md:4,children:(0,v.jsx)(x.A,{sx:(0,s.A)((0,s.A)({},w),{},{backgroundColor:t?"#1E293B":"#E1F5FE",border:"1px solid #ccc"}),children:(0,v.jsxs)(u.A,{children:[(0,v.jsx)(d.A,{variant:"h6",sx:{color:t?"#FFFFFF":"#000000"},children:"Current Education"}),P?ct():(0,v.jsx)(c.A,{sx:{height:260},children:(0,v.jsx)(y.u,{width:"100%",height:"100%",children:(0,v.jsxs)(g.r,{children:[(0,v.jsx)(p.F,{data:W,dataKey:"count",nameKey:"student_type",cx:"50%",cy:"50%",outerRadius:it(),children:W.map(((t,e)=>(0,v.jsx)(b.f,{fill:rt[e%rt.length]},"cell-".concat(e))))}),(0,v.jsx)(f.m,{}),(0,v.jsx)(_.s,{content:ot,layout:"horizontal",align:"center",verticalAlign:"bottom",payload:W.map(((t,e)=>({value:t.student_type,type:"circle",color:rt[e%rt.length]})))})]})})})]})})}),(0,v.jsx)(h.Ay,{item:!0,xs:12,sm:6,md:4,children:(0,v.jsx)(x.A,{sx:(0,s.A)((0,s.A)({},w),{},{backgroundColor:t?"#1E293B":"#E1F5FE",border:"1px solid #ccc"}),children:(0,v.jsxs)(u.A,{children:[(0,v.jsx)(d.A,{variant:"h6",sx:{color:t?"#FFFFFF":"#000000"},children:"Highest Education"}),I?ct():(0,v.jsx)(c.A,{sx:{height:260},children:(0,v.jsx)(y.u,{width:"100%",height:"100%",children:(0,v.jsxs)(g.r,{children:[(0,v.jsx)(p.F,{data:D,dataKey:"count",nameKey:"student_highest_education",cx:"50%",cy:"50%",outerRadius:it(),children:D.map(((t,e)=>(0,v.jsx)(b.f,{fill:rt[e%rt.length]},"cell-".concat(e))))}),(0,v.jsx)(f.m,{}),(0,v.jsx)(_.s,{content:ot,layout:"horizontal",align:"center",verticalAlign:"bottom",payload:D.map(((t,e)=>({value:t.student_highest_education,type:"circle",color:rt[e%rt.length]})))})]})})})]})})}),(0,v.jsx)(h.Ay,{item:!0,xs:12,sm:6,md:4,children:(0,v.jsx)(x.A,{sx:(0,s.A)((0,s.A)({},w),{},{backgroundColor:t?"#1E293B":"#E1F5FE",border:"1px solid #ccc"}),children:(0,v.jsxs)(u.A,{children:[(0,v.jsx)(d.A,{variant:"h6",sx:{color:t?"#FFFFFF":"#000000"},children:"Race"}),J?ct():(0,v.jsx)(c.A,{sx:{height:260},children:(0,v.jsx)(y.u,{width:"100%",height:"100%",children:(0,v.jsxs)(g.r,{children:[(0,v.jsx)(p.F,{data:G,dataKey:"count",nameKey:"student_race",cx:"50%",cy:"50%",outerRadius:it(),children:G.map(((t,e)=>(0,v.jsx)(b.f,{fill:rt[e%rt.length]},"cell-".concat(e))))}),(0,v.jsx)(f.m,{}),(0,v.jsx)(_.s,{content:ot,layout:"horizontal",align:"center",verticalAlign:"bottom",payload:G.map(((t,e)=>({value:t.student_race,type:"circle",color:rt[e%rt.length]})))})]})})})]})})}),(0,v.jsx)(h.Ay,{item:!0,xs:12,sm:6,md:4,children:(0,v.jsx)(x.A,{sx:(0,s.A)((0,s.A)({},w),{},{backgroundColor:t?"#1E293B":"#E1F5FE",border:"1px solid #ccc"}),children:(0,v.jsxs)(u.A,{children:[(0,v.jsx)(d.A,{variant:"h6",sx:{color:t?"#FFFFFF":"#000000"},children:"Marital Status"}),Q?ct():(0,v.jsx)(c.A,{sx:{height:260},children:(0,v.jsx)(y.u,{width:"100%",height:"100%",children:(0,v.jsxs)(g.r,{children:[(0,v.jsx)(p.F,{data:V,dataKey:"count",nameKey:"student_marital_status",cx:"50%",cy:"50%",outerRadius:it(),children:V.map(((t,e)=>(0,v.jsx)(b.f,{fill:rt[e%rt.length]},"cell-".concat(e))))}),(0,v.jsx)(f.m,{}),(0,v.jsx)(_.s,{content:ot,layout:"horizontal",align:"center",verticalAlign:"bottom",payload:V.map(((t,e)=>({value:t.student_marital_status,type:"circle",color:rt[e%rt.length]})))})]})})})]})})}),(0,v.jsx)(h.Ay,{item:!0,xs:12,sm:6,md:4,children:(0,v.jsx)(x.A,{sx:(0,s.A)((0,s.A)({},w),{},{backgroundColor:t?"#1E293B":"#E1F5FE",border:"1px solid #ccc"}),children:(0,v.jsxs)(u.A,{children:[(0,v.jsx)(d.A,{variant:"h6",sx:{color:t?"#FFFFFF":"#000000"},children:"Employment Status"}),Z?ct():(0,v.jsx)(c.A,{sx:{height:260},children:(0,v.jsx)(y.u,{width:"100%",height:"100%",children:(0,v.jsxs)(g.r,{children:[(0,v.jsx)(p.F,{data:X,dataKey:"count",nameKey:"student_employment_status",cx:"50%",cy:"50%",outerRadius:it(),children:X.map(((t,e)=>(0,v.jsx)(b.f,{fill:rt[e%rt.length]},"cell-".concat(e))))}),(0,v.jsx)(f.m,{}),(0,v.jsx)(_.s,{content:ot,layout:"horizontal",align:"center",verticalAlign:"bottom",payload:X.map(((t,e)=>({value:t.student_employment_status,type:"circle",color:rt[e%rt.length]})))})]})})})]})})})]})]})}}}]);
//# sourceMappingURL=479.8d63b14a.chunk.js.map